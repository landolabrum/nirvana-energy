(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[907],{2423:function(e,t,r){"use strict";r.d(t,{Z:function(){return views_ProductChapters_ProductChapters}});var i=r(29),c=r(5003),a=r.n(c),s=r(7794),n=r.n(s),o=r(7294),d=[".d-flex.jsx-2504621280,.product-chapters__chapter.jsx-2504621280 .chapter__content.jsx-2504621280 .chapter__body.jsx-2504621280,.product-chapters__chapter.jsx-2504621280 .chapter__content.jsx-2504621280 .chapter__icon.jsx-2504621280,.product-chapters__chapter.jsx-2504621280 .chapter__content.jsx-2504621280,.product-chapters.jsx-2504621280{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".product-chapters.jsx-2504621280{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:100%;list-style:none;margin:var(--padding) 0 var(--element-height);padding:0;color:var(--primary);gap:var(--s-5);}",".product-chapters__chapter.jsx-2504621280{cursor:pointer;height:calc(var(--element-height) * 4);width:100%;max-width:122px;color:var(--gray-40);--ui-icon-color:$color;}",".product-chapters__chapter.jsx-2504621280 .chapter__content.jsx-2504621280{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}",".product-chapters__chapter.jsx-2504621280 .chapter__content.jsx-2504621280 .chapter__icon.jsx-2504621280{width:auto;padding:var(--s-8);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:65%;--ui-icon-width:calc(100% - calc(var(--s-1) * 2));--ui-icon-height:auto;}",".product-chapters__chapter.jsx-2504621280 .chapter__content.jsx-2504621280 .chapter__body.jsx-2504621280{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;height:35%;}",".product-chapters__chapter.jsx-2504621280 .chapter__content.jsx-2504621280 .chapter__body.jsx-2504621280 .chapter__title.jsx-2504621280{font-weight:900;font-size:var(--s-6);color:var(--primary);}",".product-chapters__chapter.jsx-2504621280 .chapter__content.jsx-2504621280 .chapter__body.jsx-2504621280 .chapter__extras.jsx-2504621280{font-size:var(--s-8);}"];d.__hash="2504621280";var l=r(9280),p=r(8991),u=r(1163),x=r(5893),views_ProductChapters_ProductChapters=function(e){var t,r=e.products,c=(0,o.useState)(),s=c[0],h=c[1],_=(0,l.ko)("IShoppingService"),m=(0,u.useRouter)(),f=(t=(0,i.Z)(n().mark(function _callee(){var e;return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r&&null!=r&&r.length&&!s)){t.next=3;break}return h(r),t.abrupt("return");case 3:return t.prev=3,t.next=6,_.getProducts();case 6:null!=(e=t.sent)&&e.data&&h(e.data.filter(function(e){var t;return(null==e?void 0:null===(t=e.metadata)||void 0===t?void 0:t.mid)==p.Z.merchant.mid}).map(function(e){return e})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),alert(JSON.stringify(t.t0));case 13:case"end":return t.stop()}},_callee,null,[[3,10]])})),function(){return t.apply(this,arguments)});return(0,o.useEffect)(function(){f()},[h]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a(),{id:d.__hash,children:d}),(0,x.jsx)("ul",{className:"jsx-".concat(d.__hash)+" product-chapters",children:Object(s).length&&s.map(function(e,t){return(0,x.jsx)("li",{onClick:function(){return(null==e?void 0:e.price)&&m.push({pathname:"/product",query:{id:e.id,pri:e.price.id}})},className:"jsx-".concat(d.__hash)+" product-chapters__chapter",children:(0,x.jsxs)("div",{className:"jsx-".concat(d.__hash)+" chapter__content",children:[(0,x.jsx)("div",{className:"jsx-".concat(d.__hash)+" chapter__icon",children:(null==e?void 0:e.images)&&(0,x.jsx)("img",{width:"100%",src:"string"==typeof e.images?null==e?void 0:e.images:null==e?void 0:e.images[0],className:"jsx-".concat(d.__hash)})}),(0,x.jsxs)("div",{className:"jsx-".concat(d.__hash)+" chapter__body",children:[(0,x.jsx)("div",{className:"jsx-".concat(d.__hash)+" chapter__title",children:null==e?void 0:e.name}),(0,x.jsx)("div",{className:"jsx-".concat(d.__hash)+" chapter__extras",children:"extras ".concat(t+1)})]})]})},t)})})]})}},8532:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return products}});var i=r(29),c=r(9499),a=r(6835),s=r(5003),n=r.n(s),o=r(7794),d=r.n(o),l=r(7294),p=[".d-flex.jsx-4082250192,.product-listing.jsx-4082250192{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".product-listing.jsx-4082250192{margin:auto;max-width:1260px;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:auto;padding:var(--padding);}",".product-listing.jsx-4082250192 .product-listing__header.jsx-4082250192{width:100%;}"];p.__hash="4082250192";var u=r(9280),x=r(9492),h=r(7691),_=[".d-flex.jsx-920103150,.product-slider.jsx-920103150 .product-slider__carousel.jsx-920103150{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".product-slider.jsx-920103150{position:relative;width:100%;overflow-x:scroll;position:relative;white-space:nowrap;-webkit-scroll-snap-type:mandatory;-moz-scroll-snap-type:mandatory;-ms-scroll-snap-type:mandatory;scroll-snap-type:mandatory;-webkit-scroll-snap-type:x mandatory;-moz-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;overflow-x:scroll;-webkit-overflow-scrolling:touch;overscroll-behavior-x:contain;margin:var(--s-7) 0;min-height:500px;}","@media (max-width:900px){.product-slider.jsx-920103150{height:100%;max-width:100vw;}}",".product-slider.jsx-920103150::-webkit-scrollbar{display:none;}",".product-slider.jsx-920103150 .product-slider__carousel.jsx-920103150{position:absolute;height:-webkit-max-content;height:-moz-max-content;height:max-content;gap:var(--s-9);}","@media (max-width:900px){.product-slider.jsx-920103150 .product-slider__carousel.jsx-920103150{position:unset;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;gap:var(--s-2);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}","@media (max-width:600px){.product-slider.jsx-920103150 .product-slider__carousel.jsx-920103150{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;}}",".product-slider__product.jsx-920103150{margin:2px 0;border-radius:var(--border-radius);border:solid 1px var(--blue-10);outline:solid 1px var(--blue);padding:var(--padding);cursor:pointer;width:450px;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}","@media (max-width:900px){.product-slider__product.jsx-920103150{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;background-color:var(--gray-90);width:calc(100% - var(--padding) * 2.5);padding:var(--s-7) var(--padding);}}","@media (max-width:600px){.product-slider__product.jsx-920103150{background-color:var(--gray-50);-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;padding:var(--s-8) 0;}}",".product-slider__product__description.jsx-920103150{height:100%;color:var(--gray-30);font-size:var(--s-5);line-height:2;font-weight:500;margin-bottom:var(--s-9);text-transform:capitalize;}","@media (max-width:600px){.product-slider__product__description.jsx-920103150{height:-webkit-max-content;height:-moz-max-content;height:max-content;}}","@media (max-width:900px){.product-slider__product-title.jsx-920103150{font-size:var(--s-2);line-height:1;}}","@media (max-width:600px){.product-slider__product.jsx-920103150{padding:0;}.product-slider__product-title.jsx-920103150{color:var(--gray-100);font-weight:900;padding:var(--s-8) 0 0 var(--s-9);}}",".product-slider__product__image.jsx-920103150{height:370px;position:relative;}","@media (max-width:900px){.product-slider__product__image.jsx-920103150{height:500px;width:calc(50vw - var(--padding));}}","@media (max-width:600px){.product-slider__product__image.jsx-920103150{width:100%;height:auto;}}",".product-slider__product__image__action.jsx-920103150{position:absolute;bottom:var(--s-7);right:var(--s-9);}","@media (max-width:900px){.product-slider__product__image__action.jsx-920103150{right:0;}}","@media (max-width:600px){.product-slider__product__image__action.jsx-920103150{right:var(--s-4);}}"];_.__hash="920103150";var m=r(3023),f=r(7506),j=r(7128),g=r(1163),v=r(5893),views_ProductSlider_ProductSlider=function(e){var t=e.products,r=(0,g.useRouter)(),i=(0,j.Z)(),c=i.getCartItems,a=i.handleQtyChange,setCart=function(e){a(e)},s=c(),handleProduct=function(e){var t;console.log("[ handle prod ]",e),null!==(t=e.price_object)&&void 0!==t&&t.id&&r.push({pathname:"/product",query:{id:e.id,pri:e.price_object.id}})};return(0,l.useEffect)(function(){},[t]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(n(),{id:_.__hash,children:_}),(0,v.jsx)("div",{className:"jsx-".concat(_.__hash)+" product-slider",children:(0,v.jsx)("div",{className:"jsx-".concat(_.__hash)+" product-slider__carousel",children:Array(t).length>0&&t.map(function(e,t){return(0,v.jsxs)("div",{className:"jsx-".concat(_.__hash)+" product-slider__product",children:[(0,v.jsxs)("div",{className:"jsx-".concat(_.__hash)+" product-slider__product__image",children:[(0,v.jsx)("span",{onClick:function(){return handleProduct(e)},className:"jsx-".concat(_.__hash),children:(0,v.jsx)(f.Z,{image:null==e?void 0:e.images,options:{animate:!0,view:"slider"}})}),(0,v.jsx)("div",{className:"jsx-".concat(_.__hash)+" product-slider__product__image__action",children:(0,v.jsx)(m.Z,{product:e,cart:s,setCart:setCart})})]}),(0,v.jsxs)("div",{onClick:function(){return handleProduct(e)},className:"jsx-".concat(_.__hash)+" product-slider__product__description",children:[(0,v.jsx)("div",{className:"jsx-".concat(_.__hash)+" product-slider__product-notifications"}),(0,v.jsx)("div",{className:"jsx-".concat(_.__hash)+" product-slider__product-title",children:null==e?void 0:e.name})]})]},t)})})})]})},b=r(1523),w=r(2516),y=r(2423),k=r(8991),N=r(682);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var products=function(){(0,w.aF)();var e=(0,l.useState)({categories:{},types:{}}),t=e[0],r=e[1],s=(0,l.useState)([]),o=s[0],_=s[1],m=(0,l.useState)(!1),f=m[0],j=m[1],g=(0,l.useState)(!1),S=g[0],O=g[1],P=(0,u.ko)("IShoppingService"),getSelectedCategories=function(e){var t=Object.entries(e).filter(function(e){return(0,a.Z)(e,2)[1].selected});return 0===t.length?"all":t.map(function(e){return(0,a.Z)(e,1)[0]}).join(", ")},updateFilters=function(e,t){r(function(r){var i;return _objectSpread(_objectSpread({},r),{},(0,c.Z)({},e,_objectSpread(_objectSpread({},r[e]),{},(0,c.Z)({},t,{selected:!(null!==(i=r[e][t])&&void 0!==i&&i.selected)}))))})};return(0,l.useEffect)(function(){O(!0);var e,t=(e=(0,i.Z)(d().mark(function _callee(){var e,t,r;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,P.getProducts();case 3:(t=null==(e=i.sent)?void 0:e.data)&&(r=t.filter(function(e){return e.metadata.mid===k.Z.merchant.mid}).map(function(e){var t;return{id:e.id,description:e.description,name:e.name,created:(0,b.vc)(e.price.created,{isTimestamp:!0}),images:e.images[0],price_object:e.price,type:e.type,price:(0,b.XY)(null===(t=e.price)||void 0===t?void 0:t.unit_amount),metadata:e.metadata}}),j(e.has_more),_(r)),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),console.error("Error fetching products:",i.t0);case 11:return i.prev=11,O(!1),i.finish(11);case 14:case"end":return i.stop()}},_callee,null,[[0,8,11,14]])})),function(){return e.apply(this,arguments)});o.length||t()},[O]),S?(0,v.jsx)(N.Z,{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(n(),{id:p.__hash,children:p}),(0,v.jsxs)("div",{className:"jsx-".concat(p.__hash)+" product-listing",children:[(null==o?void 0:o.length)&&(0,v.jsx)(y.Z,{products:o}),(0,v.jsx)("div",{className:"jsx-".concat(p.__hash)+" product-listing__header",children:(0,v.jsx)("div",{className:"jsx-".concat(p.__hash)+" product-listing__filters",children:["categories","types"].map(function(e){return(0,v.jsx)(x.Z,{variant:"dark",onSelect:function(t){return updateFilters(e,t)},label:e,options:Object.keys(t[e]),title:getSelectedCategories(t[e]),value:getSelectedCategories(t[e])},e)})})}),(0,v.jsx)(views_ProductSlider_ProductSlider,{products:o}),(0,v.jsx)("div",{className:"jsx-".concat(p.__hash)+" product-listing__footer",children:(0,v.jsx)(h.Z,{disabled:!f,variant:"dark",onClick:function(){},children:"Next"})})]})]})}},4918:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return r(8532)}])}},function(e){e.O(0,[88,774,888,179],function(){return e(e.s=4918)}),_N_E=e.O()}]);