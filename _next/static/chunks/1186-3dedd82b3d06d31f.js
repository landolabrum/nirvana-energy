"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1186],{9531:(e,t,a)=>{a.d(t,{A:()=>h});var n=a(42969),r=a(45794),i=a(70825),s=a.n(i),c=a(14232),o=[".d-flex.jsx-1246836366,.btn-group__item.jsx-1246836366,.btn-group.jsx-1246836366{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","@-webkit-keyframes text-wipe-jsx-1246836366{0%{color:var(--green-50);--ui-icon-color:var(--green-50);box-shadow:-0.5px -1px 1.5px 1px var(--green-70);opacity:0.8;-webkit-filter:blur(3.2px);filter:blur(3.2px);-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);}65%{color:var(--green-10);--ui-icon-color:var(--green-10);box-shadow:-0.5px -1px 1.5px 1px var(--green-30);opacity:0.8;-webkit-filter:blur(2px);filter:blur(2px);}70%{color:var(--green-30);--ui-icon-color:var(--green-30);box-shadow:0 0 1px 1.5px var(--green-10);-webkit-filter:blur(0);filter:blur(0);}100%{color:var(--green-30);--ui-icon-color:var(--green-10);box-shadow:1px 1px 1px 1px var(--gray-90-o);-webkit-filter:blur(0);filter:blur(0);}}","@keyframes text-wipe-jsx-1246836366{0%{color:var(--green-50);--ui-icon-color:var(--green-50);box-shadow:-0.5px -1px 1.5px 1px var(--green-70);opacity:0.8;-webkit-filter:blur(3.2px);filter:blur(3.2px);-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);}65%{color:var(--green-10);--ui-icon-color:var(--green-10);box-shadow:-0.5px -1px 1.5px 1px var(--green-30);opacity:0.8;-webkit-filter:blur(2px);filter:blur(2px);}70%{color:var(--green-30);--ui-icon-color:var(--green-30);box-shadow:0 0 1px 1.5px var(--green-10);-webkit-filter:blur(0);filter:blur(0);}100%{color:var(--green-30);--ui-icon-color:var(--green-10);box-shadow:1px 1px 1px 1px var(--gray-90-o);-webkit-filter:blur(0);filter:blur(0);}}","@-webkit-keyframes light-wipe-jsx-1246836366{from{width:70px;left:-100%;color:var(--green-10);--ui-icon-color:var(--green-10);}to{width:150px;left:calc(100% + 151px);}}","@keyframes light-wipe-jsx-1246836366{from{width:70px;left:-100%;color:var(--green-10);--ui-icon-color:var(--green-10);}to{width:150px;left:calc(100% + 151px);}}",".btn-group.jsx-1246836366{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-1);width:100%;height:-webkit-max-content;height:-moz-max-content;height:max-content;}",".btn-group__item.jsx-1246836366{color:var(--gray-30);position:relative;background:var(--gray-50-o);overflow:hidden;-webkit-transition:all 1.2s ease ease-out;transition:all 1.2s ease ease-out;width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:100%;border-radius:var(--s-8);-webkit-transition:all 1.2s ease ease-out;transition:all 1.2s ease ease-out;}",".btn-group__item.active.jsx-1246836366{border-radius:var(--border-radius);background-color:var(--primary-70-o);color:var(--green-10);--ui-icon-color:var(--green-10);}",".btn-group__item.active.jsx-1246836366:hover{-webkit-animation:text-wipe-jsx-1246836366 0.3s ease-out forwards;animation:text-wipe-jsx-1246836366 0.3s ease-out forwards;}",'.btn-group__item.active.jsx-1246836366:hover.jsx-1246836366::before{content:"";position:absolute;top:0;left:-100%;width:50px;height:100%;background:linear-gradient(120deg,var(--green-10) 0%,var(--green-30) 50%,var(--green-70) 100%);-webkit-transform:skewX(-25deg);-ms-transform:skewX(-25deg);transform:skewX(-25deg);z-index:0;-webkit-animation-delay:1s;animation-delay:1s;-webkit-animation:light-wipe-jsx-1246836366 1s ease-in-out forwards;animation:light-wipe-jsx-1246836366 1s ease-in-out forwards;}',".btn-group__item.inactive.jsx-1246836366{-webkit-transition:all 1.7s ease ease-out;transition:all 1.7s ease ease-out;border-radius:var(--border-radius);background-color:var(--gray-70);color:var(--gray-40);--ui-icon-color:var(--gray-10);}",".btn-group--header.jsx-1246836366{width:var(--s-9-width);padding:var(--s-9);}",".btn-group--header__title.jsx-1246836366{font-size:var(--s-3);height:var(--s-1);line-height:1;white-space:nowrap;margin:0;color:var(--gray-20);text-transform:capitalize;width:100%;}",".btn-group--content.jsx-1246836366{top:0;width:100%;bottom:0;margin:auto;height:-webkit-max-content;height:-moz-max-content;height:max-content;}","@media (max-width:900px){.btn-group--content.jsx-1246836366{max-width:90vw;}}"];o.__hash="1246836366";var l=a(25795),d=a(12543),u=a(37876);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let h=function(e){var t=e.label,a=e.btns,n=e.size,i=e.btnSize,m=e.onSelect,h=e.variant,f=[{label:"loading"},{label:"loading"},{label:"loading"}],p=(0,c.useState)(f),v=p[0],b=p[1],j=function(e){var t=e.target,n=t.name;t.value;var r=null==a?void 0:a.find(function(e){return e.name==n});null==a||a.find(function(e){return e.name==n}),"boolean"==typeof(null==r?void 0:r.checked)&&(r.checked=!r.checked),e.target=r,m&&m(e)};return(0,c.useEffect)(function(){a&&b(a)},[a]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s(),{id:o.__hash,children:o}),(0,u.jsxs)("div",{className:"jsx-".concat(o.__hash)+" btn-group",children:[t&&(0,u.jsx)("div",{className:"jsx-".concat(o.__hash)+" btn-group--header",children:(0,u.jsx)("div",{className:"jsx-".concat(o.__hash)+" btn-group--header__title",children:t})})||"",(0,u.jsx)("div",{className:"jsx-".concat(o.__hash)+" btn-group--content",children:(0,u.jsx)(l.A,x(x({},"object"==typeof n?n:{xs:1}),{},{gap:20,children:Object.entries(v).map(function(e,t){var a=(0,r.A)(e,2),n=a[0],s=a[1];return(0,u.jsx)("div",{className:"jsx-".concat(o.__hash)+" "+"btn-group__item ".concat((null==s?void 0:s.checked)!==void 0?null!=s&&s.checked?" active":" inactive":""),children:(0,u.jsx)(d.A,{name:s.name,size:i,onClick:j,traits:(null==s?void 0:s.traits)&&s.traits||(null==s?void 0:s.checked)&&{afterIcon:"fa-check"},value:s.value,type:null==s?void 0:s.type,disabled:null==s?void 0:s.disabled,variant:h||(null==s?void 0:s.checked)&&"inherit"||"flat",busy:JSON.stringify(v)==JSON.stringify(f),children:"string"==typeof s.label?s.label:"object"==typeof s.label&&"text"in s.label?s.label.text:""},n)},t+1)})}))})]})]})}},12543:(e,t,a)=>{a.d(t,{A:()=>f});var n=a(70825),r=a.n(n),i=a(14232),s=["@-webkit-keyframes abled-jsx-818146699{0%{cursor:default;position:relative;color:transparent;text-shadow:0 0 2px var(--gray-60);}50%{-webkit-filter:brightness(1.5);filter:brightness(1.5);}100%{color:inherit;text-shadow:none;}}","@keyframes abled-jsx-818146699{0%{cursor:default;position:relative;color:transparent;text-shadow:0 0 2px var(--gray-60);}50%{-webkit-filter:brightness(1.5);filter:brightness(1.5);}100%{color:inherit;text-shadow:none;}}","@-webkit-keyframes disable-jsx-818146699{0%{color:inherit;text-shadow:none;}100%{cursor:default;position:relative;color:transparent;text-shadow:0 0 2px var(--gray-60);}}","@keyframes disable-jsx-818146699{0%{color:inherit;text-shadow:none;}100%{cursor:default;position:relative;color:transparent;text-shadow:0 0 2px var(--gray-60);}}","button.jsx-818146699{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:inherit;-webkit-box-align:inherit;-ms-flex-align:inherit;align-items:inherit;-webkit-box-pack:inherit;-webkit-justify-content:inherit;-ms-flex-pack:inherit;justify-content:inherit;color:inherit;background-color:transparent;outline:none;border:none;height:inherit;line-height:inherit;width:inherit;overflow:inherit;gap:inherit;text-transform:inherit;font-size:inherit;-webkit-animation:inherit;animation:inherit;font-weight:inherit;font-family:inherit;text-align:inherit;text-shadow:inherit;padding-block:0;padding-inline:0;cursor:inherit;padding:0;}","button.flat.jsx-818146699{margin:0;}","button.fit-text.jsx-818146699{padding:var(--s-9) 0;}","button.lite.jsx-818146699{-webkit-text-decoration:none;text-decoration:none;}","button.link.jsx-818146699,button.lowercase.jsx-818146699{text-transform:none;width:-webkit-max-content;width:-moz-max-content;width:max-content;}","button.link.jsx-818146699,button.flat.jsx-818146699{padding:0;}","button.miniactive.jsx-818146699,button.mini.jsx-818146699{padding-right:var(--s-7);}","button.jsx-818146699 .busy-spinner.jsx-818146699{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:var(--input-border-radius);--ui-icon-color:var(--white);}","button.icon.jsx-818146699,button.disabled-icon.jsx-818146699{padding:0 7px;}","@media (max-width:1100px){button.nav-item.jsx-818146699{text-indent:7px;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}}","button.jsx-818146699:disabled{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:not-allowed !important;-webkit-animation:disable-jsx-818146699 1s forwards;animation:disable-jsx-818146699 1s forwards;}","button.jsx-818146699:not(disabled){-webkit-animation:abled-jsx-818146699 1s forwards;animation:abled-jsx-818146699 1s forwards;}",".ui-button__link.jsx-818146699{color:inherit;-webkit-text-decoration:none !important;text-decoration:none !important;border:solid 1px #f30 !important;}"];s.__hash="818146699";var c=a(24080),o=a(76919),l=a(48230),d=a.n(l),u=a(89099),m=a(37876),x=function(e){var t=e.href,a=e.target,n=e.children,i=e.rel,c=e.formControl;return t?void 0===c||c?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r(),{id:s.__hash,children:s}),(0,m.jsx)(o.A,{variant:"inherit",children:(0,m.jsx)(d(),{className:"ui-button__link-provider",href:t,target:a,rel:i||"noopener noreferrer",children:n})})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r(),{id:s.__hash,children:s}),(0,m.jsx)(d(),{href:t,target:a,rel:i||"noopener noreferrer",style:{width:"100%"},children:n})]}):(0,m.jsx)(m.Fragment,{children:"NO HREF"})},h=function(e){var t=e.context,a=t.traits?t.traits:{};a.disabled=t.disabled,null!=t&&t.disabled&&(t.variant="disabled");var n=(null==t?void 0:t.type)&&!["tel","email"].includes(t.type)&&t.type;return(0,i.useEffect)(function(){},[t]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r(),{id:s.__hash,children:s}),(0,m.jsx)(o.A,{label:t.label,size:t.size,variant:t.variant,traits:a,children:(0,m.jsxs)("button",{"data-element":"button",name:null==t?void 0:t.name,value:null==t?void 0:t.value,type:n||void 0,onClick:function(e){(null==t?void 0:t.onClick)&&(null==t||t.onClick(e))},disabled:(null==t?void 0:t.disabled)||(null==t?void 0:t.variant)=="disabled",className:"jsx-".concat(s.__hash)+" "+((null!=t&&t.variant?null==t?void 0:t.variant:"")||""),children:[(null==t?void 0:t.busy)&&(0,m.jsx)("div",{className:"jsx-".concat(s.__hash)+" busy-spinner",children:(0,m.jsx)(c.o,{icon:"spinner"})}),!(null!=t&&t.busy)&&(null==t?void 0:t.children)||(null==t?void 0:t.label)&&"".concat(t.label," ").concat(null==t?void 0:t.value)||""]})})]})};let f=function(e){var t=e.href,a=e.target,n=e.onClick,i=e.children,c=e.variant,o=e.disabled,l=e.busy,d=e.traits,f=e.label,p=e.value,v=e.type,b=e.name,j=e.size,_=(0,u.useRouter)();return(t&&"/"!==t&&_.asPath==t&&(o=!0),t)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r(),{id:s.__hash,children:s}),(0,m.jsx)(x,{href:t,target:a,formControl:!1,children:(0,m.jsx)(h,{context:{name:b,value:p,type:v,onClick:n,children:i,variant:c,size:j,disabled:o,busy:l,traits:d,label:f}})})]}):(0,m.jsx)(h,{context:{name:b,value:p,onClick:n,children:i,variant:c,size:j,disabled:o,busy:l,traits:d,label:f}})}},91186:(e,t,a)=>{a.d(t,{A:()=>tn});var n=a(42969),r=a(70825),i=a.n(r),s=a(14232),c=[];c.__hash="2085888330";var o=a(39846),l=a(63857),d=a(45794),u=a(43081),m=a.n(u),x=[".d-flex.jsx-3420507693,.admin-products__header.jsx-3420507693 .heiarchy__item.jsx-3420507693,.admin-products__header.jsx-3420507693 .heiarchy.jsx-3420507693,.admin-products__header--left.jsx-3420507693,.admin-products__header--right.jsx-3420507693,.admin-products__header.jsx-3420507693,.admin-products.jsx-3420507693{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".admin-products.jsx-3420507693{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);width:var(--s-9-width);padding:var(--s-9);}","@media (max-with:1100px){.admin-products.jsx-3420507693{width:var(--s-4-width);overflow:hidden;}}",".admin-products__header.jsx-3420507693{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;min-height:var(--s-element);padding:var(--s-4) 0;width:100%;gap:var(--s-9);}",".admin-products__header--left.jsx-3420507693,.admin-products__header--right.jsx-3420507693{gap:var(--s-9);-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-flex:1;-ms-flex:1;flex:1;}",".admin-products__header.jsx-3420507693 .heiarchy.jsx-3420507693{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:var(--s-11);border-radius:var(--s-10);color:var(--green);border:solid 1px;width:var(--s-11-width);background-color:var(--gray-90);font-size:var(--s-7);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-11);}",".admin-products__header.jsx-3420507693 .heiarchy__item.jsx-3420507693{height:var(--s-5);width:100%;border:solid 1px var(--green);border-radius:var(--s-11);}",".admin-products__header.jsx-3420507693 .heiarchy-key.jsx-3420507693,.admin-products__header.jsx-3420507693 .heiarchy-value.jsx-3420507693{-webkit-flex:1;-ms-flex:1;flex:1;padding:var(--s-12) var(--s-11);}",".admin-products__header.jsx-3420507693 .heiarchy-value.jsx-3420507693{background-color:var(--green);color:var(--gray-100);}",".admin-products__header--right.jsx-3420507693{-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}"];x.__hash="3420507693";var h=a(31361),f=a(24631),p=a(5126),v=a(70236),b=[".d-flex.jsx-691639075,.admin-product__footer.jsx-691639075,.admin-product.jsx-691639075{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".admin-product.jsx-691639075{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);width:100%;}",".admin-product--title.jsx-691639075{font-size:var(--s-3);text-transform:capitalize;line-height:1;margin-bottom:var(--s-4);color:var(--gray-40);}",".admin-product__footer.jsx-691639075{width:100%;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}"];b.__hash="691639075";var j=a(63023),_=a(43668),g=a(74540),y=a(64303),w=a(89099),k=a(25179),O=a(37876);let A=function(){var e,t=(0,h.cQ)("IAdminService"),a=(0,k.pn)(),n=(0,d.A)(a,2),r=(n[0],n[1]),i=(0,s.useState)(null),c=(i[0],i[1]),o=(0,s.useState)(null),u=o[0],x=o[1],f=(0,p.hS)(),v=f.openModal;f.closeModal;var b=(0,s.useCallback)((e=(0,l.A)(m().mark(function e(a){var n,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=u&&u.id){e.next=2;break}return e.abrupt("return");case 2:return r({active:!0,body:"Deleting: ".concat(u.id)}),e.prev=3,e.next=6,t.deleteProduct(u.id,a);case 6:null!=(i=e.sent)&&i.data&&v({title:i.message,children:(0,O.jsx)(O.Fragment,{children:i.message})}),null!=i&&null!=(n=i.detail)&&n.detail&&v({title:"Error",children:(0,O.jsx)(O.Fragment,{children:i.detail.detail})}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Error deleting product:",e.t0),v({title:"Error",children:(0,O.jsx)(O.Fragment,{children:"Error deleting product"})});case 15:return e.prev=15,r({active:!1}),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[3,11,15,18]])})),function(t){return e.apply(this,arguments)}),[u,t,v,r]);return{deletedProduct:u,initiateDelete:function(e){if(e)return x(e),v({confirm:e.price_id?{title:"Product: ".concat(e.id," has a price connected"),statements:[{label:"Detach ".concat(e.price_id),onClick:function(){return b(e.price_id)}}]}:{title:"Delete: ".concat(e.id),statements:[{label:"Yes",onClick:function(){return b()}}]}}),!0},setProduct:c}},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.toFixed,n=(t.removeChar,t.preChar),r=t.postChar;if(!e)return"";var i=e.replace(/[^0-9]/g,"");return i&&(i=parseFloat(i).toString(),void 0!==a&&(i=parseFloat(i).toFixed(a))),n&&(i=n+i),r&&(i+=r),i},S=function(e){var t,a=e.product,n=(0,w.useRouter)(),r=_.A.merchant.mid,c=(0,h.cQ)("IAdminService"),o=A(),u=(o.deletedProduct,o.initiateDelete),x=(0,p.hS)(),k=x.openModal,S=x.closeModal,P=(0,s.useState)(),C=P[0],D=P[1],E=[{name:"name",label:"Product Name"},{name:"active",label:"Active",value:!1,type:"checkbox"},{name:"description",label:"Product Description",type:"textarea"},{name:"type",label:"Typez",options:[{name:"service",value:"service"}],type:"select",value:""},{name:"unit_amount",label:"Amount",type:"tel"}],I=(t=(0,l.A)(m().mark(function e(){var t,a,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a={metadata:{mid:"mb1"==r&&C?null==(t=(0,g.UI)(C,"merchant"))?void 0:t.value:r},price:{}},console.log({fields:C}),null==C||C.forEach(function(e){if(e.name.startsWith("metadata.")){var t,n=e.name.split(".")[1];a.metadata[n]=e.value}else["created","updated"].includes(e.name)?e.value=(0,f.i$)(e.value,{returnType:"timestamp"}):["amount","unit_amount"].includes(e.name)?a.price[e.name]=Number(e.value):"price"==e.name?a[e.name]={unit_amount:Number(N(e.value)),price_id:null==(t=(0,g.UI)(C,"price_id"))?void 0:t.value}:a[e.name]=e.value}),!a){e.next=15;break}return e.prev=4,e.next=7,c.createProduct(a);case 7:null!=(i=e.sent)&&i.id&&(D(Object.entries(i).map(function(e){var t=(0,d.A)(e,2),a=t[0];return{label:a,name:a,value:t[1]}})),k({confirm:{title:"Successfully created, ".concat(i.name),statements:[{label:i.name,onClick:function(){return S()}},{label:"Products",href:n.asPath}]}})),console.log("[ ADD PRODUCT RESP ]",i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("[ ADD PRODUCT Error ]",e.t0);case 15:case"end":return e.stop()}},e,null,[[4,12]])})),function(){return t.apply(this,arguments)}),F=function(){if(!C)if(a){var e=Object.entries(a).map(function(e){var t=(0,d.A)(e,2),a=t[0];return{label:a,name:a,value:t[1]}}).filter(function(e){return"object"!=typeof e.value});if(a.metadata){var t=Object.entries(a.metadata).map(function(e){var t=(0,d.A)(e,2),a=t[0],n=t[1];return{name:"metadata.".concat(a),label:"Metadata: ".concat(a),value:n,type:"text"}});D([].concat((0,v.A)(e),(0,v.A)(t)))}else D(e)}else D(E)};return(0,s.useEffect)(function(){F()},[]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:b.__hash,children:b}),(0,O.jsxs)("div",{className:"jsx-".concat(b.__hash)+" admin-product",children:[(0,O.jsx)("div",{className:"jsx-".concat(b.__hash)+" admin-product__content",children:(0,O.jsx)(j.A,{fields:C,onChange:function(e){C&&D((0,g.cP)(C,e.target.name,{value:e.target.value}))},onSubmit:I,disabled:!1})}),(0,O.jsx)("div",{className:"jsx-".concat(b.__hash)+" admin-product__footer",children:(0,O.jsx)("div",{className:"jsx-".concat(b.__hash),children:(0,O.jsx)(y.A,{onClick:function(){return u(a)},variant:"error",children:"Delete"})})})]})]})};var P=a(19166),C=a(73908),D=a(99920);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let F=function(){var e,t,a,n=(0,p.hS)(),r=n.openModal,c=n.closeModal,o=(0,s.useState)(),u=o[0],v=o[1],b=(0,s.useState)(),j=(b[0],b[1]),g=(0,s.useState)(),w=g[0],N=g[1],E=(0,s.useState)(),F=E[0],M=E[1],z=(0,s.useState)(!1),R=z[0],T=z[1],q=(0,s.useState)("list"),L=q[0],U=q[1],V=R&&(null==u||null==(t=u.filter(function(e){return null==e?void 0:e.selected}))?void 0:t.length),Q=(0,D.xV)().user,B=(0,k.pn)(),H=(0,d.A)(B,2),J=(H[0],H[1]),W=(0,s.useRef)(void 0),$=(0,s.useState)(""),Y=$[0],Z=$[1],G=(0,s.useState)(u),X=G[0],K=G[1],ee=function(){v(null==u?void 0:u.map(function(e){return(null==e?void 0:e.selected)==!0&&delete e.selected,e})),T(!1)},et=A(),ea=et.deletedProduct,en=et.initiateDelete,er=(0,s.useCallback)(function(e){clearTimeout(W.current),W.current=setTimeout(function(){e?K(null==u?void 0:u.filter(function(t){return Object.values(t).some(function(t){return"string"==typeof t&&t.toLowerCase().includes(e.toLowerCase())})})):K(u)},1500)},[u]),ei=Array.from(new Set(null==(e=u||[])?void 0:e.map(function(e){return e.mid}).filter(function(e){return e}))).map(function(e){return{label:e,name:"mid-".concat(e)}}).concat([{label:"all",name:"mid-all"}]).reverse(),es={list:{actions:["add","edit"],view:(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(P.A,{onSelect:R?function(e){e.id&&K(null==X?void 0:X.map(function(t){return t.name==e.name&&t.price_id==e.price_id&&(t.selected=!(null!=t&&t.selected)),t}))}:void 0,options:{tableTitle:"admin products",hideColumns:["id","selected","price_id"]},data:X,filters:{visibility:[{label:"everything",name:"visibility-everything"},{label:"active",name:"visibility-active"},{label:"inactive",name:"visibility-inactive"}],merchant:ei},setFilter:function(e){var t,a=e.name.split("-"),n=a[1]||e.label,r=a[0];if(n&&u){if("visibility"===r)K("active"===n?u.filter(function(e){return e.active}):"inactive"===n?u.filter(function(e){return!e.active}):u);else if("mid"===r){if("all"==n)return K(u);var i=u.filter(function(e){return(null==e?void 0:e.mid)===n});K(i),console.log({filterName:n,newProducts:i})}}},search:Y,setSearch:function(e){Z(e),er(e)},onRowClick:function(e){e.id&&(N(e),U("product"))}})})},add:{actions:["list"],view:(0,O.jsx)(S,{})},product:{actions:["list"],view:(0,O.jsx)(S,{setView:function(){return U("list")},product:w})}},ec=(0,h.cQ)("IProductService"),eo=_.A.merchant.mid;function el(){return(el=(0,l.A)(m().mark(function e(){var t,a,n,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u||u&&"list"===L)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,ec.getProducts();case 5:M({total:null==(t=(n=e.sent).data)?void 0:t.length,livemode:null==n||null==(a=n.data[0])?void 0:a.livemode,has_more:n.has_more}),v((r=null==n?void 0:n.data.map(function(e){var t=!1===e.active;if(e.metadata.mid===eo||"admin-3"===Q.type||!t){var a={id:e.id,image:e.images,name:e.name,type:e.type,price_id:e.price.id,price:(0,f.bK)(e.price.unit_amount),livemode:JSON.stringify(e.livemode),timeline:(0,O.jsxs)("div",{className:"heiarchy",children:[(0,O.jsxs)("div",{className:"heiarchy-item",children:[(0,O.jsx)("div",{children:"created"}),(0,O.jsx)("div",{children:(0,f.i$)(e.created,{isTimestamp:!0})})]}),(0,O.jsxs)("div",{className:"heiarchy-item",children:[(0,O.jsx)("div",{children:"updated"}),(0,O.jsx)("div",{children:(0,f.i$)(e.updated,{isTimestamp:!0})})]})]})};return"admin-3"===Q.type&&(a.mid=e.metadata.mid,a.active=e.active),a}})).filter(function(e){return e})),K(r.filter(function(e){return e})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("[ ADMIN PRODUCTS ( ERROR ) ]",e.t0);case 15:return e.prev=15,U("list"),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}))).apply(this,arguments)}var ed=function(e){"edit"===e?T(!R):U(e)};return((0,s.useEffect)(function(){!function(){el.apply(this,arguments)}()},[v]),u)?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:x.__hash,children:x}),(0,O.jsxs)("div",{className:"jsx-".concat(x.__hash)+" admin-products",children:[(0,O.jsxs)("div",{className:"jsx-".concat(x.__hash)+" admin-products__header",children:[(0,O.jsx)("div",{className:"jsx-".concat(x.__hash)+" admin-products__header--left",children:(0,O.jsx)("div",{className:"jsx-".concat(x.__hash)+" heiarchy",children:F&&(null==(a=Object.entries(F))?void 0:a.map(function(e){var t=(0,d.A)(e,2),a=t[0],n=t[1];return(0,O.jsxs)("div",{className:"jsx-".concat(x.__hash)+" heiarchy__item",children:[(0,O.jsx)("div",{className:"jsx-".concat(x.__hash)+" heiarchy-key",children:a}),(0,O.jsx)("div",{className:"jsx-".concat(x.__hash)+" heiarchy-value",children:null==n?void 0:n.toString()})]},a)}))})}),(0,O.jsxs)("div",{className:"jsx-".concat(x.__hash)+" admin-products__header--right",children:[es[L].actions.map(function(e){return(0,O.jsx)("div",{className:"jsx-".concat(x.__hash),children:(0,O.jsx)(y.A,{onClick:function(){return ed(e)},children:e})},e)}),!1!=V&&(0,O.jsx)("div",{className:"jsx-".concat(x.__hash),children:(0,O.jsxs)(y.A,{label:"coming soon",onClick:function(){var e,t,a,n=null!=(t=null==X||null==(a=X.filter(function(e){return null==e?void 0:e.selected}))?void 0:a.map(function(e){return I(I({},e),{},{label:e.name,status:"incomplete"})}))?t:[];j(n);var i={title:"Delete ".concat(V," Products?"),statements:[{label:"Delete",onClick:(e=(0,l.A)(m().mark(function e(){var t,a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:J({active:!0,body:"Deleting products..."}),t=0;case 2:if(!(t<n.length)){e.next=17;break}return e.prev=3,a=n[t],e.next=7,en(a);case 7:n[t].status=ea?"complete":"error",e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),n[t].status="error",console.error("Error deleting product ".concat(n[t].id,":"),e.t0);case 14:t++,e.next=2;break;case 17:J({active:!1}),r({title:"Delete Completed",children:(0,O.jsx)("ol",{children:null==n?void 0:n.map(function(e){return(0,O.jsxs)("li",{children:[e.name," - ",e.status]},e.id)})})});case 19:case"end":return e.stop()}},e,null,[[3,10]])})),function(){return e.apply(this,arguments)})},{label:"Cancel",onClick:ee,closeModal:c}],body:(0,O.jsx)("ol",{children:null==n?void 0:n.map(function(e){return(0,O.jsxs)("li",{children:[e.name," - ",e.id]},e.id)})})};r({confirm:i})},variant:"primary",children:[V," items"]})})||""]})]}),es[L].view]})]}):(0,O.jsx)(C.A,{})};var M=[".d-flex.jsx-3211816930,.admin-accounts__account--line.jsx-3211816930,.admin-accounts__account.jsx-3211816930,.admin-accounts.jsx-3211816930{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".admin-accounts.jsx-3211816930{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;}",".admin-accounts__account.jsx-3211816930{width:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".admin-accounts__account--line.jsx-3211816930{border:solid 1px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:var(--s-border-width);gap:2px;line-height:20px;font-size:16px;}",".admin-accounts__account--line-key.jsx-3211816930{color:var(--primary-50);}",".admin-accounts__account--line-value.jsx-3211816930{color:var(--gray-10);word-break:break-word;}"];M.__hash="3211816930";var z=a(94605),R=[".d-flex.jsx-206585351,.admin-account__info.jsx-206585351,.admin-account__header--title.jsx-206585351,.admin-account__header--contact.jsx-206585351,.admin-account__header.jsx-206585351{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".info-key.jsx-206585351{color:var(--primary-50);position:relative;}",'.info-key.jsx-206585351::after{content:":";}',".info-value.jsx-206585351{color:var(--gray-10);}",".admin-account.jsx-206585351{width:100%;}",".admin-account__header.jsx-206585351{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;width:auto;padding:var(--s-8) var(--s-4);border:solid 1px var(--gray-70);border-radius:var(--border-radius);background-color:var(--gray-80);gap:var(--s-9);}","@media (max-width:900px){.admin-account__header.jsx-206585351{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}",".admin-account__header--title.jsx-206585351,.admin-account__header--contact.jsx-206585351{gap:4px;}",".admin-account__header--title.jsx-206585351{font-size:var(--s-4);color:var(--gray-50);}",".admin-account__info.jsx-206585351{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:100%;white-space:wrap;}",".admin-account__info--line.jsx-206585351{width:100%;}"];R.__hash="206585351";let T=function(e){var t,a=e.accountId,n=(0,s.useState)(),r=n[0],c=n[1],o=(0,h.cQ)("IAdminService"),d=(t=(0,l.A)(m().mark(function e(){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=c,e.next=4,o.getAccount(a);case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.log("[ AdminAccount.getAccount()<ERROR> ]",e.t2);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return t.apply(this,arguments)});return(0,s.useEffect)(function(){a&&!r&&d()},[a]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:R.__hash,children:R}),(0,O.jsxs)("div",{className:"jsx-".concat(R.__hash)+" admin-account",children:[(0,O.jsxs)("div",{className:"jsx-".concat(R.__hash)+" admin-account__header",children:[(0,O.jsx)("div",{className:"jsx-".concat(R.__hash)+" admin-account__header--title",children:a}),(0,O.jsxs)("div",{className:"jsx-".concat(R.__hash)+" admin-account__header--contact",children:[(null==r?void 0:r.email)&&(0,O.jsx)(y.A,{size:"sm",href:"mailto://".concat(r.email),children:r.email}),(null==r?void 0:r.business_profile.support_phone)&&(0,O.jsx)(y.A,{type:"tel",size:"sm",href:"mailto://".concat(r.email),children:r.business_profile.support_phone})]})]}),(0,O.jsx)("div",{className:"jsx-".concat(R.__hash)+" admin-account__info"}),(0,O.jsx)("div",{className:"jsx-".concat(R.__hash)+" admin-account__info",children:(null==r?void 0:r.business_profile)&&Object.entries(r).map(function(e,t){return(0,O.jsx)("div",{className:"jsx-".concat(R.__hash)+" admin-account__info--line",children:e[0]},t)})}),(0,O.jsx)("hr",{className:"jsx-".concat(R.__hash)}),(0,O.jsx)("div",{className:"jsx-".concat(R.__hash)+" admin-account__info",children:(null==r?void 0:r.business_profile)&&Object.entries(r.business_profile).map(function(e,t){return(0,O.jsxs)("div",{className:"jsx-".concat(R.__hash)+" admin-account__info--line",children:[e[0],": ",JSON.stringify(e[1])]},t)})})]})]})},q=function(){var e,t=(0,h.cQ)("IAdminService"),a=(0,s.useState)(),n=a[0],r=a[1],c=(0,s.useState)("list"),o=c[0],d=c[1],u=(e=(0,l.A)(m().mark(function e(){var a,n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){r(e.map(function(e,t){var a,n,r,i=null!=(a=e.business_profile)?a:null;return{id:e.id,account:(0,O.jsx)(z.Ay,{cell:"member",data:{id:e.id,name:i.name,email:null!=(n=e.email)?n:"no email",phone:i.support_phone}}),support:(0,O.jsx)(z.Ay,{cell:"member",data:{id:e.id,name:i.name,email:null!=(r=i.support_email)?r:"no email",phone:i.support_phone}}),address:(0,O.jsx)(z.Ay,{cell:"address",data:null==i?void 0:i.support_address}),phone:i.support_phone?(0,O.jsx)(y.A,{variant:"link",size:"sm",href:"tel://".concat(null==i?void 0:i.support_phone),children:(0,f.gB)(i.support_phone)}):(0,O.jsx)(z.qo,{}),url:i.url?(0,O.jsx)(y.A,{size:"sm",variant:"link",target:"_blank",href:"https://".concat(i.url),children:i.url}):(0,O.jsx)(z.qo,{})}}))},e.prev=1,e.next=4,t.listAccounts();case 4:(null==(n=e.sent)?void 0:n.data)&&r(n.data),a(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("[ ADMIN ACCONTS get Account Err ]",e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])})),function(){return e.apply(this,arguments)});return(0,s.useEffect)(function(){n||"list"!==o||u()},[]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:M.__hash,children:M}),(0,O.jsxs)("div",{className:"jsx-".concat(M.__hash)+" admin-accounts",children:[(0,O.jsx)("h1",{className:"jsx-".concat(M.__hash),children:"Admin Accounts"}),n&&"list"===o&&(0,O.jsx)(P.A,{data:n,options:{hideColumns:["id"]},onRowClick:function(e){return d(e.id)}}),"list"!==o&&(0,O.jsx)(T,{accountId:o})]})]})};var L=[".d-flex.jsx-3334681410{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".nirvana-promo-1.jsx-3334681410{width:100%;aspect-ratio:5/4;background-color:var(--primary-50);}"];L.__hash="3334681410";var U=a(24080),V=a(25795),Q=a(75804);let B=function(){var e=(0,s.useState)("start"),t=e[0],a=e[1];(0,s.useRef)(null);var n=function(e){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:L.__hash,children:L}),(0,O.jsxs)("div",{className:"jsx-".concat(L.__hash)+" marketing-program-card",children:[(0,O.jsx)(U.o,{icon:"fa-".concat(e.name)}),(0,O.jsxs)("p",{className:"jsx-".concat(L.__hash),children:[e.name," Marketing"]}),(0,O.jsxs)(y.A,{variant:"dark",onClick:function(){return a("method")},children:["$",(null==e?void 0:e.cost)||"41"," / lead"]}),(0,O.jsx)(y.A,{variant:"flat",children:"more info"})]})]})};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:L.__hash,children:L}),(0,O.jsxs)("div",{className:"jsx-".concat(L.__hash)+" admin-marketing",children:["start"==t&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"jsx-".concat(L.__hash)+" admin-marketing__header",children:[(0,O.jsx)("h5",{className:"jsx-".concat(L.__hash),children:"Sign up for marketing lists"}),(0,O.jsx)("p",{className:"jsx-".concat(L.__hash),children:"Target your audience using informed media buying across states and the whole country by using Deepturn data analytics and audience groups to identify the people who will be most receptive to your message, create tailored content, and deliver impactful and cost effective campaigns across DMAs."})]}),(0,O.jsxs)(V.A,{gapY:20,xs:1,md:3,gap:10,variant:"card",children:[(0,O.jsx)(n,{name:"google",cost:100,className:"jsx-".concat(L.__hash)}),(0,O.jsx)(n,{name:"tiktok",className:"jsx-".concat(L.__hash)}),(0,O.jsx)(n,{name:"instagram",className:"jsx-".concat(L.__hash)})]})]}),"method"==t&&(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(Q.A,{})})]})]})};var H=[".d-flex.jsx-3678714853,.admin-mgmt__card-body.jsx-3678714853,.admin-mgmt__card-header.jsx-3678714853,.admin-mgmt__card.jsx-3678714853{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".admin-mgmt.jsx-3678714853{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".admin-mgmt__body.jsx-3678714853,.admin-mgmt__header.jsx-3678714853{width:100%;}",".admin-mgmt__header.jsx-3678714853{font-size:var(--s-1);}",".admin-mgmt__body.jsx-3678714853{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:var(--s-1);}",".admin-mgmt__card.jsx-3678714853{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:100%;overflow:hidden;min-height:150px;color:var(--gray-10);}",".admin-mgmt__card-header.jsx-3678714853{color:var(--primary-50);min-height:var(--s-element);text-transform:capitalize;}",".admin-mgmt__card-body.jsx-3678714853{height:100%;font-size:var(--s-element);-webkit-flex:1;-ms-flex:1;flex:1;width:100%;}"];H.__hash="3678714853";let J=function(){(0,h.cQ)("IAdminService");var e=_.A.merchant;return e.mid,e.stripeId,(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:H.__hash,children:H}),(0,O.jsxs)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt",children:[(0,O.jsx)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__header"}),(0,O.jsx)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__body",children:(0,O.jsxs)(V.A,{xs:2,md:4,variant:"card",gap:10,margin:"var(--s-4) 0",children:[(0,O.jsxs)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card",children:[(0,O.jsx)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card-header",children:"new customers"}),(0,O.jsx)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card-body",children:"5"})]}),(0,O.jsxs)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card",children:[(0,O.jsx)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card-header",children:"products sold"}),(0,O.jsx)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card-body",children:"12"})]}),(0,O.jsxs)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card",children:[(0,O.jsx)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card-header",children:"d"}),(0,O.jsx)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card-body",children:"10"})]}),(0,O.jsxs)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card",children:[(0,O.jsx)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card-header",children:"f"}),(0,O.jsx)("div",{className:"jsx-".concat(H.__hash)+" admin-mgmt__card-body",children:(0,O.jsx)(z.qo,{})})]})]})})]})]})};var W=[".d-flex.jsx-3620595596,.admin-customer__header-container.jsx-3620595596 .actions.jsx-3620595596,.admin-customer__header-container.jsx-3620595596 .header.jsx-3620595596,.admin-customer__header-container.jsx-3620595596,.admin-customer.jsx-3620595596{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".admin-customer.jsx-3620595596{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-4);border-radius:var(--border-radius);background-color:var(--gray-90);width:var(--s-4-width);padding:var(--s-4);}","@media (max-width:1100px){.admin-customer.jsx-3620595596{background-color:unset;width:100%;padding:var(--s-1) 0;}}",".admin-customer__header-container.jsx-3620595596{width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;}","@media (max-width:1100px){.admin-customer__header-container.jsx-3620595596{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}",".admin-customer__header-container.jsx-3620595596 .header.jsx-3620595596{position:relative;margin-bottom:var(--s-1);}",".admin-customer__header-container.jsx-3620595596 .header--title.jsx-3620595596{color:var(--primary-50);text-transform:capitalize;font-size:var(--s-element);}",".admin-customer__header-container.jsx-3620595596 .header--subtitle.jsx-3620595596{position:absolute;display:table;padding:var(--s-12) var(--s-9);border-radius:var(--s-3);text-transform:uppercase;text-shadow:-2px -1px 4px var(--gray-90);right:0;-webkit-transform:translate(50%,var(--s-11));-ms-transform:translate(50%,var(--s-11));transform:translate(50%,var(--s-11));bottom:0;line-height:1;font-size:var(--s-4);}",".admin-customer__header-container.jsx-3620595596 .actions.jsx-3620595596{gap:var(--s-9);-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;margin-left:auto;}"];W.__hash="3620595596";var $=[".d-flex.jsx-3448306305,.admin-customer-add__modal-body.jsx-3448306305 .body--key.jsx-3448306305,.admin-customer-add__modal-body.jsx-3448306305 .body--value.jsx-3448306305,.admin-customer-add__modal-body.jsx-3448306305{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".admin-customer-add__title.jsx-3448306305{font-size:var(--s-3);color:var(--gray-40);text-transform:capitalize;padding-bottom:var(--s-4);}",".admin-customer-add__modal-body.jsx-3448306305{width:100%;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;height:100%;}",".admin-customer-add__modal-body.jsx-3448306305 .body--key.jsx-3448306305,.admin-customer-add__modal-body.jsx-3448306305 .body--value.jsx-3448306305{padding:var(--s-11) var(--s-9);height:inherit;border:solid 1px;border-color:var(--gray-70);}",".admin-customer-add__modal-body.jsx-3448306305 .body--key.jsx-3448306305{border-radius:var(--s-10) 0 0 var(--s-10);background-color:var(--gray-70);}",".admin-customer-add__modal-body.jsx-3448306305 .body--value.jsx-3448306305{--ui-icon-height:100%;--ui-icon-width:var(--s-3);max-height:var(--s-element);border-radius:0 var(--s-10) var(--s-10) 0;}"];$.__hash="3448306305";var Y=a(70807);let Z=function(){var e,t=(0,w.useRouter)(),a=(0,p.hS)(),n=a.openModal,r=a.closeModal;a.isModalOpen;var c=(0,k.pn)(),o=(0,d.A)(c,2),u=(o[0],o[1]),x=[{name:"first_name",label:"first name",placeholder:"Elon",width:"50%"},{name:"last_name",label:"last name",placeholder:"Tusk",width:"50%"},{name:"phone",label:"phone",placeholder:"1 (800) - call - att",type:"tel",constraints:{min:11,max:11}},{name:"email",label:"email",placeholder:"elontusk@starlink.com",type:"email"},{name:"clearance",label:"clearance",value:1,min:0,max:(0,D.xV)().others.creation,type:"pill",required:!0},{name:"address",label:"address",placeholder:"123 Fake Street"}],f=(0,s.useState)(),v=f[0],b=f[1],A=(0,h.cQ)("IAdminService"),N=(e=(0,l.A)(m().mark(function e(a){var s,c,o,x,h,f,p,b,j,w,k,N,S,P;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b="".concat(null==(s=(0,g.UI)(v,"first_name"))?void 0:s.value," ").concat(null==(c=(0,g.UI)(v,"last_name"))?void 0:c.value),u({active:!0,body:"Creating ".concat(b)}),j=Number(null==(o=(0,g.UI)(v,"clearance"))?void 0:o.value)||void 0,w=(null==(x=(0,g.UI)(v,"phone"))?void 0:x.value)&&String(null==(h=(0,g.UI)(v,"phone"))?void 0:h.value)||void 0,null==(k=null==(f=(0,g.UI)(v,"address"))?void 0:f.value)||delete k.lng,delete k.lat,N={name:b,email:String(null==(p=(0,g.UI)(v,"email"))?void 0:p.value),phone:w,address:k,metadata:{user:{clearance:j,email_verified:!1},merchant:_.A.merchant}},S=function(){var e=(0,l.A)(m().mark(function e(){var t;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.createCustomer(N);case 3:if(!(t=e.sent)){e.next=6;break}return e.abrupt("return",t);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log("[ Create Customer ERROR ]",e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),P=function(e){var a=void 0;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:$.__hash,children:$}),Object.entries(e).map(function(e){var t=(0,d.A)(e,2),n=t[0],r=t[1];if(!["data","id"].includes(n))return(0,O.jsx)("div",{className:"jsx-".concat($.__hash),children:(0,O.jsxs)("div",{className:"jsx-".concat($.__hash)+" admin-customer-add__modal-body",children:[(0,O.jsx)("div",{className:"jsx-".concat($.__hash)+" body--key",children:(0,Y.A)(n)}),(0,O.jsx)("div",{className:"jsx-".concat($.__hash)+" body--value",children:"boolean"==typeof r?(0,O.jsx)(U.o,{icon:r?"fa-check":"fa-xmark"}):r})]})},n);"id"==n&&(a=r)}),a&&(0,O.jsx)(y.A,{onClick:function(){r(),t.push({query:{cid:a}})},children:"Customer"})]})},S().then(function(e){n({title:"".concat(e.status),children:P(e)}),u({active:!1})});case 11:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,s.useEffect)(function(){v||b(x)},[N]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:$.__hash,children:$}),(0,O.jsxs)("div",{className:"jsx-".concat($.__hash)+" admin-customer-add",children:[(0,O.jsx)("div",{className:"jsx-".concat($.__hash)+" admin-customer-add__title",children:"add customer"}),(0,O.jsx)(j.A,{fields:v,onChange:function(e){var t=e.target,a=t.name,n=t.value;b(v.map(function(e){return e.name==a&&(e.value=n),e}))},onSubmit:N})]})]})};var G=[".admin-customer-list.jsx-3567805678{width:100%;}",".user.jsx-3567805678{--ui-icon-color:var(--primary-50);}"];G.__hash="3567805678";let X=function(e,t){var a,n,r=_.A.merchant.mid,i=null==t||null==(a=t.metadata)||null==(a=a.user)?void 0:a.clearance;if(e&&i){var s=null==e||null==(n=e.metadata)||null==(n=n.merchant)?void 0:n.mid,c=t.email==e.email;return i>=12||i>=10&&s===r||c}};var K=a(78315);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let ea=function(){var e,t=(0,h.cQ)("IAdminService"),a=(0,s.useState)(!1),n=a[0],r=a[1],c=(0,D.Jd)(),o=(0,s.useState)(),d=o[0],u=o[1],x=(e=(0,l.A)(m().mark(function e(){var a,n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===d){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.listCustomers();case 4:(null==(a=n=e.sent)?void 0:a.object)==="list"&&(r(n.has_more),u((n=n.data).map(function(e){if(null!=e&&e.id){var t,a,n,r=X(e,c),s=e.email!==(null==c?void 0:c.email),o=et(et(et({},e.metadata),e.invoice_settings),{},{description:e.description,discount:e.discount,currency:e.currency,invoice_prefix:e.invoice_prefix,next_invoice_sequence:e.next_invoice_sequence});if(r)return{customer:(0,O.jsx)(z.Ay,{cell:"member",data:{id:e.id,name:e.name,email:e.email}}),id:e.id,balance:e.balance,created:(0,O.jsx)(z.Ay,{cell:"date",data:e.created}),default_source:(0,O.jsx)(z.Ay,{cell:"check",data:!!e.default_source}),merchant:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:G.__hash,children:G}),(0,O.jsx)("div",{className:"jsx-".concat(G.__hash)+" "+"d-flex ".concat(s?"":"user"),children:(0,O.jsx)(U.o,{icon:s?"".concat(null==e||null==(t=e.metadata)||null==(t=t.merchant)?void 0:t.name,"-logo"):"fa-star"})})]}),tax_exempt:(0,O.jsx)(z.Ay,{cell:"check",data:"exempt"===e.tax_exempt}),clearance:(0,O.jsx)(z.Ay,{cell:"id",data:(0,K.A)(null==(a=(0,D._l)(Number(null==e||null==(n=e.metadata)||null==(n=n.user)?void 0:n.clearance)))?void 0:a.user.type,{textTransform:"capitalize"})}),extras:o,quote:e.metadata&&(0,O.jsx)(z.Ay,{cell:"check",data:!!Object.entries(e.metadata).find(function(e){return String(e).includes(String(_.A.merchant.mid))})})}}})));case 6:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return(0,s.useEffect)(function(){x()},[x]),{customers:d,hasMore:n,refresh:function(){u(void 0)}}},en=function(e){var t,a=e.onSelect,n=ea(),r=n.customers,s=n.refresh,c=n.hasMore;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:G.__hash,children:G}),(0,O.jsxs)("div",{className:"jsx-".concat(G.__hash)+" admin-customer-list",children:[(0,O.jsx)("div",{className:"jsx-".concat(G.__hash)+" d-flex s-w-9 justify-end s-4-bottom",children:(0,O.jsx)("div",{className:"jsx-".concat(G.__hash),children:(0,O.jsx)(y.A,{onClick:s,busy:!r,traits:{afterIcon:"fa-rotate"},children:"refresh"})})}),(0,O.jsxs)("div",{className:"jsx-".concat(G.__hash)+" admin-customer-list__table",children:[(0,O.jsx)(P.A,{variant:"mini",options:{hideColumns:["extras","id"]},loading:!(null!=(t=Object(r))&&t.length),data:r,onRowClick:a}),c&&"next"]})]})]})};var er=[".d-flex.jsx-512240902,.admin-customer-detail__actions.jsx-512240902,.admin-customer-detail__display.jsx-512240902 .display--list-item.jsx-512240902,.admin-customer-detail__display.jsx-512240902 .display--list.jsx-512240902,.admin-customer-detail__display--title.jsx-512240902,.admin-customer-detail__header.jsx-512240902,.admin-customer-detail.jsx-512240902{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".admin-customer-detail.jsx-512240902{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-5);-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%;}",".admin-customer-detail__header.jsx-512240902{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;margin-left:auto;}",".admin-customer-detail__form.jsx-512240902{width:100%;}",".admin-customer-detail__display--title.jsx-512240902{-webkit-flex:1;-ms-flex:1;flex:1;min-height:var(--s-element);text-transform:capitalize;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:var(--s-9);-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;line-height:1;--ui-icon-size:var(--s-1);color:var(--primary-50);--ui-icon-color:var(--primary-50);font-size:var(--s-1);}",".admin-customer-detail__display.jsx-512240902 .display--list.jsx-512240902{--ui-icon-width:var(--s-7);--ui-icon-height:var(--s-6);font-size:var(--s-7);-webkit-flex:1;-ms-flex:1;flex:1;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;gap:var(--s-10);min-height:var(--s-element);-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".admin-customer-detail__display.jsx-512240902 .display--list-item.jsx-512240902{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;border-radius:var(--s-7);overflow:hidden;width:-webkit-max-content;width:-moz-max-content;width:max-content;overflow:hidden;min-height:var(--s-5);border:solid 1px transparent;}","@media (max-width:900px){.admin-customer-detail__display.jsx-512240902 .display--list-item.jsx-512240902{border:unset;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}",".admin-customer-detail__display.jsx-512240902 .display--list-item__key.jsx-512240902,.admin-customer-detail__display.jsx-512240902 .display--list-item__value.jsx-512240902{width:-webkit-max-content;width:-moz-max-content;width:max-content;border:solid 1px transparent;padding:0 var(--s-11);width:var(--s-11-width);}",".admin-customer-detail__display.jsx-512240902 .display--list-item__key.jsx-512240902{text-transform:uppercase;color:var(--gray-70);font-family:Eros;}","@media (max-width:900px){.admin-customer-detail__display.jsx-512240902 .display--list-item__key.jsx-512240902{background-color:unset;color:var(--gray-60);}}",".admin-customer-detail__display.jsx-512240902 .display--list-item__value.jsx-512240902{color:var(--blue-70);height:100%;}","@media (max-width:900px){.admin-customer-detail__display.jsx-512240902 .display--list-item__value.jsx-512240902{background-color:unset;}}",".admin-customer-detail__display.jsx-512240902 .display--list-item.jsx-512240902:hover{cursor:pointer;border:solid 1px var(--blue-70);background-color:var(--gray-30-o);}",".admin-customer-detail__display.jsx-512240902 .display--list-item.jsx-512240902:hover .display--list-item__key.jsx-512240902{color:var(--gray-40);}",".admin-customer-detail__display.jsx-512240902 .display--list-item.jsx-512240902:hover .display--list-item__value.jsx-512240902{background-color:var(--blue-70);color:var(--gray-10);--ui-icon-color:var(--gray-10);}",".admin-customer-detail__display.jsx-512240902 .display--list-item.jsx-512240902 .valid.jsx-512240902{color:var(--green-70);--ui-icon-color:var(--green-70);}",".admin-customer-detail__display.jsx-512240902 .display--list-item.jsx-512240902 .valid.jsx-512240902:hover{color:var(--green-70);--ui-icon-color:var(--green-70);}",".admin-customer-detail__display.jsx-512240902 .display--list-item.jsx-512240902 .invalid.jsx-512240902{color:var(--red-50);--ui-icon-color:var(--red-50);}",".admin-customer-detail__display.jsx-512240902 .display--list-item.jsx-512240902 .invalid.jsx-512240902:hover .display--list-item__value.jsx-512240902{background-color:var(--blue-70);color:var(--red-50);--ui-icon-color:var(--red-50);}",".admin-customer-detail__actions.jsx-512240902{width:100%;gap:var(--s-9);}","@media (min-width:900px){.admin-customer-detail__actions.jsx-512240902{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}"];er.__hash="512240902";var ei=a(55204);function es(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ec(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?es(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):es(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var eo=function(e){return JSON.parse(JSON.stringify(e))};let el=function(e){var t,a=e.customer_id;e.level,(0,w.useRouter)();var n=(0,h.cQ)("IAdminService"),r=(0,s.useState)(),i=r[0],c=r[1],o=(0,s.useState)(),u=o[0],x=o[1],f=(0,s.useState)({}),b=f[0],j=f[1],_=(0,ei.hN)(),g=(0,d.A)(_,2),y=(g[0],g[1]),k=(0,p.hS)().openModal,O=(0,s.useCallback)((0,l.A)(m().mark(function e(){var t;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!a||i||u)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,n.getCustomer(a);case 5:if(null!=(t=e.sent)&&t.error){e.next=8;break}return e.abrupt("return",A(t));case 8:return y({active:!0,dismissable:!0,apiError:t}),console.error("Couldn't get customer"),e.abrupt("return");case 13:e.prev=13,e.t0=e.catch(2),c(!1),console.error("[ ADMIN CUSTOMER DETAILS ]",e.t0);case 17:case"end":return e.stop()}},e,null,[[2,13]])})),[a,i,u,n,y]),A=function(e,t,a){var n=eo(e);c(n),x(eo(e)),j(n)},N=function(e,t){var a={};return!function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var i in n)"object"!=typeof n[i]||Array.isArray(n[i])||null===n[i]?n[i]!==t[i]&&S(a,[].concat((0,v.A)(r),[i]).join("."),n[i]):e(t[i]||{},n[i],[].concat((0,v.A)(r),[i]))}(e,t),a},S=function(e,t,a){var n=t.split(".");n.reduce(function(e,t,r){return r===n.length-1?e[t]=a:e[t]||(e[t]={}),e[t]},e)},P=(t=(0,l.A)(m().mark(function e(){var t,a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e=(0,l.A)(m().mark(function e(t){var a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.updateCustomer(ec({id:u.id},t));case 3:(a=e.sent)&&k({children:JSON.stringify(a)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error({error:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a=N(u,i),null!=i&&i.email&&(a.email=i.email),0!==Object.keys(a).length){e.next=6;break}return console.log("No changes to update"),e.abrupt("return");case 6:return console.log({differences:a}),e.next=9,t(a);case 9:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,s.useEffect)(function(){void 0===i&&O()},[]),{customer:i,initialCustomer:u,displayFields:b,updateField:function(e){var t=eo(i),a=t,n=e.id.split("-").slice(1);if(n.forEach(function(t,r){r===n.length-1?a[t]=e.value:a=a[t]}),c(t),"select"===e.type){e.options=e.options.map(function(e){return ec(ec({},e),{},{selected:!1})});var r=e.options.find(function(t){return t.value===e.value});r&&(r.selected=!0)}j(t)},modifyCustomer:P,refresh:function(){c(void 0)}}},ed=function(e){var t,a=(0,w.useRouter)(),n=(0,h.cQ)("IAdminService"),r=(0,ei.hN)(),i=(0,d.A)(r,2);i[0],i[1];var s=(0,p.hS)(),c=s.openModal,o=s.closeModal,u=s.replaceModal;return{deleteCustomers:(t=(0,l.A)(m().mark(function t(){var r;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=function(){var t=(0,l.A)(m().mark(function t(){var a;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!e||0===e.length)){t.next=3;break}return console.error("[ CANNOT DELETE CUSTOMER (NO ID) ]"),t.abrupt("return");case 3:return t.prev=3,t.next=6,n.deleteCustomers(Array.isArray(e)?e:[e]);case 6:if(!(a=t.sent)){t.next=11;break}return t.abrupt("return",a);case 11:console.error("[ ERROR DELETING ( 1 ) ]: ".concat(e));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),console.error("[ ERROR DELETING ( 2 ) ]: ",{customer_id:e,error:t.t0});case 17:case"end":return t.stop()}},t,null,[[3,14]])}));return function(){return t.apply(this,arguments)}}(),c({confirm:{title:"Are you sure you want to delete?",statements:[{label:"Yes",onClick:function(){var t=(0,l.A)(m().mark(function t(){var n,i;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:if(!(n=t.sent)){t.next=7;break}return i={title:"Error",children:"Error Deleting: ".concat(e),confirm:{statements:[{label:"return",onClick:o}]}},(null==n?void 0:n.length)>0&&n[0]&&n[0].deleted&&(i={title:"Success",children:"Deleted: ".concat(e),confirm:{statements:[{label:"customers",onClick:function(){return a.push(a.pathname,{query:{vid:"customers",cid:"list"}})}}]}}),t.abrupt("return",u(i));case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{label:"Cancel",onClick:o}]}});case 3:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})}};var eu=a(36166),em=[".d-flex.jsx-1041342802{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".three-tree.jsx-1041342802{border-radius:var(--border-radius);position:relative;}",".three-tree.jsx-1041342802 svg.jsx-1041342802{display:none;}"];em.__hash="1041342802";let ex=function(e){var t=e.title,a=e.data,n=(0,s.useState)(),r=n[0],i=n[1];return(0,s.useEffect)(function(){a&&i({name:t,children:function e(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t||"data",r=Object.entries(a).map(function(t){var a=(0,d.A)(t,2),r=a[0],i=a[1],s={id:n?"".concat(n,"-").concat(r):r,name:r,value:null};return"object"!=typeof i||null===i||Array.isArray(i)?Array.isArray(i)?s.children=i.map(function(t,a){return"object"==typeof t&&null!==t?e(t,"".concat(s.id,"-").concat(a)):{id:"".concat(s.id,"-").concat(a),name:"".concat(r,"-").concat(a),value:t}}):s.value=i:s.children=e(i,s.id).children,s});return{id:n,name:n,children:r}}(a).children})},[a,open,t]),{treeData:r}};function eh(e,t){return"M ".concat(e.y," ").concat(e.x,"\n      C ").concat((e.y+t.y)/2," ").concat(e.x,",\n        ").concat((e.y+t.y)/2," ").concat(t.x,",\n        ").concat(t.y," ").concat(t.x)}function ef(e,t){var a=e.y*Math.cos((e.x-90)/180*Math.PI),n=e.y*Math.sin((e.x-90)/180*Math.PI),r=t.y*Math.cos((t.x-90)/180*Math.PI),i=t.y*Math.sin((t.x-90)/180*Math.PI);return"M ".concat(a,",").concat(n,"\n    C ").concat((a+r)/2,",").concat(n,",\n      ").concat((a+r)/2,",").concat(i,",\n      ").concat(r,",").concat(i)}var ep=function(e){return(null==e?void 0:e.children)||(null==e?void 0:e._children)};let ev=function(e,t,a){var n;(n=(0,l.A)(m().mark(function e(t){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.append("circle").attr("class","d3-node--circle");case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})(e).then(function(e){return e.append("foreignObject").attr("y","-".concat(t/2)).attr("x",function(e){return ep(e)?-t:t}).attr("id",function(e){var t;return"marker-".concat((null==(t=e.data)?void 0:t.id)||a)}).style("font-size","".concat(t,"px")).style("height","".concat(2*t,"px")).style("overflow","visible").html(function(e){return"<div class='d3-node--".concat(e.data.children?"key":"name","'>\n        ").concat(e.data.name,"\n        <div class='d3-node--value'>").concat(void 0!=e.data.value?"".concat(e.data.value):"","</div>\n        </div>\n        ")})})};var eb=function e(t,a,n,r,i){if(null!=a&&a.parent){var s=t.selectAll("#link-".concat(a.data.id)),c=t.selectAll("#link-".concat(a.parent.data.id));if(!s)throw Error(" NO IDENTIFIER FOR LINK IN (D3 TREE");r&&(s.attr("class",r),c.attr("class",r)),n&&(s.style(Object.keys(n),Object.values(n)),c.style(Object.keys(n),Object.values(n))),e(t,a.parent,n,r)}},ej=a(39286);let e_=function(e){var t=e.data,a=e.selectedData,n=e.onClick,r=e.title,c=void 0===r?"data":r,o=(e.open,e.variant),l=void 0===o?"tidy":o,d=10*c.length,u="radial"===l,m=(0,ej.A)().width,x=(0,s.useRef)(null),h=(0,s.useRef)(null),f=ex({title:c,data:t}).treeData,p=function(e,t){var r,i=null==h?void 0:h.current,s=u?eu.B22().size([2*Math.PI,Math.min(i.offsetWidth,i.offsetHeight)/2]):eu.B22().size([i.offsetHeight,i.offsetWidth]),o=s(e);s(e);var l=eu.Ltv(x.current).attr("class","d3-svg").attr("width",i.offsetWidth).attr("height",i.offsetHeight).attr("viewBox",u?"-".concat(i.offsetWidth/2," -").concat(i.offsetHeight/2," ").concat(i.offsetWidth," ").concat(i.offsetHeight):"0 0 ".concat(i.offsetWidth," ").concat(i.offsetHeight));l.selectAll("*").remove();var m=l.append("g").attr("class","d3-links"),f=l.append("g").attr("class","d3-nodes").attr("id","d3-nodes"),p=o.descendants(),v=o.links(),b=(null==(r=p[p.length-1])?void 0:r.depth)+1;u?p.forEach(function(e){e.x=180*e.x/Math.PI,e.y=e.y}):p.forEach(function(e){e.y=e.depth?e.depth*(i.offsetWidth/b):d}),p.forEach(function(e){var t=e.depth;e.x+=t}),p.forEach(function(e){void 0===e.x0&&(e.x0=e.x),void 0===e.y0&&(e.y0=e.y)});var j=f.selectAll("g.node").data(p,function(e){return e.id||(e.id=++t)}),_=j.enter().append("g").attr("class",function(e){var t=ep(e);return"node d3-node ".concat(t?"d3-node__path":a&&!t&&null!=a&&a.id&&a.id==e.data.id?"d3-node__selected":"d3-node__content")}).attr("transform",function(t){return u?"rotate(".concat(t.x,") translate(").concat(t.y,",0)"):"translate(".concat(e.y0,",").concat(e.x0,")")}).on("mouseover",function(e,t){e.currentTarget.lastChild.firstChild,eb(m,t,void 0,"d3-link--lighting",t.data.id)}).on("mouseout",function(e,t){eb(m,t,void 0,"d3-link--lighting_out",t.data.id)}).on("click",function(e,t){null==n||n(t.data),t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null)});ev(_,10,c);var g=_.merge(j),y=p[p.length-1];y&&(h.current.style.minHeight="calc(".concat(y.y+20,"px)"),h.current.style.padding="var(--s-9)"),g.transition().duration(200).attr("transform",function(e){return u?"rotate(".concat(e.x-90,") translate(").concat(e.y,",0)"):"translate(".concat(e.y,",").concat(e.x,")")});var w=j.exit().transition().duration(200).attr("transform",function(t){return"translate(".concat(e.y,",").concat(e.x,")")}).remove();w.select("circle").attr("r",1e-6),w.select("text").style("fill-opacity",1e-6);var k=m.selectAll("path.link").data(v,function(e){return e.target.id}),O=k.enter().insert("path","g").attr("id",function(e){return"link-".concat(e.target.data.id)}).attr("class","link").attr("d",function(t){var a={x:e.x0,y:e.y0};return u?ef(a,a):eh(a,a)});k.exit().transition().duration(200).attr("d",function(t){var a={x:e.x,y:e.y};return u?ef(a,a):eh(a,a)}).remove(),O.merge(k).transition().duration(200).attr("d",function(e){return u?ef(e.source,e.target):eh(e.source,e.target)}),p.forEach(function(e){e.x0=e.x,e.y0=e.y})};return(0,s.useEffect)(function(){if(f&&x.current&&null!=h&&h.current.offsetWidth){var e=eu.Sk5(f,function(e){return e.children||e._children});e.x0=h.current.offsetHeight/2,e.y0=10,p(e,0)}},[h.current,l,f,x.current,m,a]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:em.__hash,children:em}),(0,O.jsx)("div",{ref:h,className:"jsx-".concat(em.__hash)+" three-tree",children:(0,O.jsx)("svg",{ref:x,className:"jsx-".concat(em.__hash)})})]})};function eg(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ey(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eg(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let ew=function(e){var t,a,n,r=e.id;e.setView;var c=(0,p.hS)(),o=c.openModal,l=(c.closeModal,c.isModalOpen),d=(0,ej.A)().width,u=(0,w.useRouter)(),m=(null==u||null==(t=u.query)?void 0:t.cid)&&String(null==u||null==(a=u.query)?void 0:a.cid)||r,x=(0,D.QY)().level,h=(0,s.useState)(),f=h[0],v=h[1],b=el({customer_id:m,level:x}),_=b.customer,k=(b.displayFields,b.updateField),A=b.modifyCustomer,N=(b.initialCustomer,b.refresh),S=(null==_?void 0:_.contact)&&(null==(n=(0,g.UI)(_.contact,"name"))?void 0:n.value)||"",P=(0,s.useCallback)(function(e){var t,a=ey(ey({},f),{},{value:null==(t=e.target)?void 0:t.value});k(a),v(a)},[f,k]),E=(0,s.useCallback)(function(e){if(!f){var t,a=ey({},e);if(a.alt=(null==a||null==(t=a.id)||null==(t=t.split("-"))?void 0:t.join(" > "))||a.name,a.label=a.name,e.name.includes("address"))a.type="address";else if(a.children){a.type="select",a.options=Object.values(e.children).map(function(e){return{alt:e.value,label:e.name,value:e.value,selected:!1}});var n=a.options.find(function(e){return e.value===a.value});n&&(n.selected=!0)}v(a)}},[]),I=function(){null!=f&&f.children||o({children:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("small",{className:"d-flex justify-start s-w-100",children:null==f?void 0:f.alt}),(0,O.jsx)(j.A,{fields:[f],onChange:P})]})})},F=ed(m).deleteCustomers;return(0,s.useEffect)(function(){d<1100&&f&&!l&&I()},[]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:er.__hash,children:er}),(0,O.jsxs)("div",{className:"jsx-".concat(er.__hash)+" admin-customer-detail",children:[(0,O.jsx)("div",{className:"jsx-".concat(er.__hash)+" admin-customer-detail__header",children:(0,O.jsx)(y.A,{busy:void 0==_,onClick:N,children:"refresh"})}),f&&d>1100?(0,O.jsx)(j.A,{fields:[f],onChange:P}):"",_&&(0,O.jsx)(e_,{onClick:function(e){return E(e)},data:_,selectedData:f,title:"customer"}),void 0==_&&(0,O.jsx)(C.A,{}),!1==_&&(0,O.jsxs)("h1",{className:"jsx-".concat(er.__hash),children:["No Customer: $",u.query.cid]})]}),(0,O.jsx)("div",{className:"jsx-".concat(er.__hash)+" admin-customer-detail__actions",children:(0,O.jsxs)(y.A,{onClick:function(){A()},children:["Update ",S]})}),(0,O.jsx)("div",{style:{marginLeft:"auto"},className:"jsx-".concat(er.__hash),children:(0,O.jsxs)(y.A,{variant:"error",onClick:function(){return F()},children:["Delete ",S]})})]})};var ek=a(12720);function eO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function eA(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eO(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let eN=function(){var e,t=(0,w.useRouter)(),a=null==t?void 0:t.query,n=function(e,n){t.push({query:eA(eA({},a),{},{cid:(null==n?void 0:n.id)||e})},void 0,{shallow:!0})},r={modify:(0,O.jsx)(ew,{id:a.cid,setView:function(e){n(e)}}),list:(0,O.jsx)(en,{onSelect:function(e){return n("modify",e)}}),add:(0,O.jsx)(Z,{})};return((0,s.useEffect)(function(){},[a]),null!=a&&a.vid&&(null==a?void 0:a.vid)==="customers")?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:W.__hash,children:W}),(0,O.jsxs)("div",{className:"jsx-".concat(W.__hash)+" admin-customer",children:[(0,O.jsx)("div",{className:"jsx-".concat(W.__hash)+" admin-customer__header-container",children:(0,O.jsxs)("div",{className:"jsx-".concat(W.__hash)+" actions",children:["add"!==a.cid&&(0,O.jsx)(y.A,{traits:{afterIcon:"fa-user-plus"},variant:"dark",onClick:function(){return n("add")},children:"Add"}),"list"!==a.cid&&(0,O.jsx)(y.A,{variant:"dark",traits:{afterIcon:"fa-user-group"},onClick:function(){return n("list")},children:"Customers"})]})}),(0,O.jsx)(ek.A,{currentView:a.cid&&(null==(e=a.cid)?void 0:e.includes("cus_"))?"modify":null!=a&&a.cid?String(a.cid):"list",views:r})]})]}):(0,O.jsx)(O.Fragment,{})};var eS=[".admin-data.jsx-484758115{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:1rem;width:100%;}"];eS.__hash="484758115";var eP=[".d-flex.jsx-646343204,.admin-data-header__actions.jsx-646343204,.admin-data-header.jsx-646343204{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".admin-data-header.jsx-646343204{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;gap:var(--s-1);background-color:var(--gray-80);width:var(--s-9-width);padding:var(--s-9);border-radius:var(--border-radius);}",".admin-data-header__actions.jsx-646343204{width:var(--s-9-width);padding:var(--s-9);gap:var(--s-2);background-color:var(--gray-90);}"];eP.__hash="646343204";var eC=a(9531);let eD=function(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:eP.__hash,children:eP}),(0,O.jsxs)("div",{className:"jsx-".concat(eP.__hash)+" admin-data-header",children:[(0,O.jsx)("h1",{className:"jsx-".concat(eP.__hash),children:"Data Management"}),(0,O.jsx)("p",{className:"jsx-".concat(eP.__hash),children:"Manage your data efficiently."}),(0,O.jsx)("div",{className:"jsx-".concat(eP.__hash)+" admin-data-header__actions",children:(0,O.jsx)(eC.A,{size:{xs:1,sm:2,md:3},btns:[{label:"Add",onClick:function(){return console.log("Add clicked")}},{label:"Edit",onClick:function(){return console.log("Edit clicked")}},{label:"Delete",onClick:function(){return console.log("Delete clicked")}}]})}),(0,O.jsx)("div",{className:"jsx-".concat(eP.__hash)+" admin-data-header__actions",children:(0,O.jsx)(eC.A,{size:{xs:1,sm:2,md:3},btns:[{label:"Export",onClick:function(){return console.log("Export clicked")}},{label:"Import",onClick:function(){return console.log("Import clicked")}}]})})]})]})};var eE=a(30501);let eI=function(){(0,h.cQ)("IMemberService"),(0,h.cQ)("IAdminService");var e=s.useState(!1),t=(0,d.A)(e,2),a=t[0];t[1];var n=(0,D.Jd)();return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:eS.__hash,children:eS}),(0,O.jsxs)("div",{className:"jsx-".concat(eS.__hash)+" admin-data",children:[(0,O.jsx)("h1",{className:"jsx-".concat(eS.__hash),children:"Data Management"}),(0,O.jsx)("p",{className:"jsx-".concat(eS.__hash),children:"Manage your data efficiently."}),n&&a&&(0,O.jsx)(eE.A,{}),(0,O.jsx)(eD,{}),(0,O.jsx)(P.A,{data:[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Role",dataIndex:"role",key:"role"}],loading:!1})]})]})};var eF=a(37493),eM=[".d-flex.jsx-2587155492,.remote-access-viewer.jsx-2587155492{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100vh;}",".remote-access-viewer.jsx-2587155492{z-index:1;width:100%;height:100%;min-height:1024px;padding-bottom:var(--s-element);position:relative;}",".remote-access-viewer__iframe.jsx-2587155492{width:100%;height:100%;border:none;min-height:50vh;max-width:100%;max-height:100%;object-fit:contain;position:absolute;top:0;left:0;}"];function ez(){var e=(0,s.useState)(null),t=e[0],a=e[1],n=(0,s.useState)(!1),r=n[0];return n[1],(0,s.useEffect)(function(){a("https://remote.tiktok.soy/vnc.html")},[]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:eM.__hash,children:eM}),(0,O.jsx)("div",{className:"jsx-".concat(eM.__hash)+" remote-access-viewer ",children:t?(0,O.jsx)(eF.A,{controls:!1,src:"https://remote.tiktok.soy/vnc.html",type:"iframe",variant:"background",onLoad:console.log}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h1",{className:"jsx-".concat(eM.__hash)+" text-2xl font-bold",children:"Remote Computer Viewer"}),(0,O.jsx)("div",{className:"jsx-".concat(eM.__hash)+" text-white flex items-center justify-center h-full text-lg",children:r?"Failed to connect to remote desktop.":"Connecting to remote session..."})]})})]})}eM.__hash="2587155492";var eR=[".d-flex.jsx-1318459489,.remote-access-page.jsx-1318459489{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".remote-access-page.jsx-1318459489{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-1);width:100%;position:relative;}"];eR.__hash="1318459489";var eT=[".remote-video-board.jsx-370771850{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;height:100vh;}",".video-item.jsx-370771850{width:100%;height:auto;overflow:hidden;}"];eT.__hash="370771850";let eq=function(){var e=function(e){var t=e.src,a=(e.id,e.alt),n=(e.poster,e.autoplay),r=e.controls;return(0,O.jsx)("div",{className:"remote-video",children:(0,O.jsx)(eF.A,{src:t,alt:a,type:"iframe",autoplay:n,controls:r,loadingText:"Loading...",preload:"none"})})};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:eT.__hash,children:eT}),(0,O.jsx)("div",{className:"jsx-".concat(eT.__hash)+" remote-video-board",children:(0,O.jsx)(V.A,{xs:1,md:3,gap:10,children:[{src:"https://www.youtube.com/embed/Oy0nVlkVvMg?si=tuLP7cf8LgZpbCIr",id:"video1",alt:"Video 1",autoplay:!1,controls:!0},{src:"https://www.youtube.com//qdBD7JPoDDM?si=9pZcoQ2NZCV01akF",id:"video1",alt:"Video 1",autoplay:!1,controls:!0}].map(function(t,a){return(0,O.jsx)("div",{className:"jsx-".concat(eT.__hash)+" video-item",children:(0,O.jsx)(e,{src:t.src,id:t.id,alt:t.alt,autoplay:t.autoplay,controls:t.controls})},a)})})})]})},eL=function(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:eR.__hash,children:eR}),(0,O.jsx)("div",{className:"jsx-".concat(eR.__hash)+" remote-access-page",children:(0,O.jsx)(ek.A,{views:{remoteAccess:(0,O.jsx)(ez,{}),loading:(0,O.jsx)("div",{className:"jsx-".concat(eR.__hash)+" loading",children:"Loading..."}),board:(0,O.jsx)(eq,{}),error:(0,O.jsx)("div",{className:"jsx-".concat(eR.__hash)+" error",children:"Error loading remote access"})},currentView:"remoteAccess"})})]})};var eU=[".d-flex.jsx-3551636617,.admin-stream__card-body.jsx-3551636617,.admin-stream__card-header.jsx-3551636617,.admin-stream__card.jsx-3551636617,.admin-stream__table.jsx-3551636617{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".admin-stream.jsx-3551636617{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".admin-stream__body.jsx-3551636617,.admin-stream__header.jsx-3551636617{width:100%;}",".admin-stream__header.jsx-3551636617{font-size:var(--s-1);}",".admin-stream__body.jsx-3551636617{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:var(--s-element);width:100%;}",".admin-stream__table.jsx-3551636617{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);width:100%;}",".admin-stream__card.jsx-3551636617{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:100%;overflow:hidden;min-height:150px;color:var(--gray-10);}",".admin-stream__card-header.jsx-3551636617{color:var(--primary-50);min-height:var(--s-element);text-transform:capitalize;}","@media (max-width:1100px){.admin-stream__card-header.jsx-3551636617{padding:var(--s-9);font-size:var(--s-6);}}",".admin-stream__card-body.jsx-3551636617{height:100%;font-size:var(--s-element);-webkit-flex:1;-ms-flex:1;flex:1;width:100%;}","@media (max-width:1100px){.admin-stream__card-body.jsx-3551636617{font-size:var(--s-6);}}"];eU.__hash="3551636617";var eV=[];eV.__hash="2085888330";var eQ=a(98190),eB=[".d-flex.jsx-1374700139,.admin-stream-event.jsx-1374700139{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".admin-stream-event.jsx-1374700139{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);padding:var(--s-9);width:var(--s-9-width);}"];function eH(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function eJ(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eH(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}eB.__hash="1374700139";var eW={eventName:"",locationName:"",locationLatitude:0,locationLongitude:0,lapCount:1};let e$=function(e){var t=e.event,a=e.setEvent,r=(0,p.hS)(),c=r.openModal;r.closeModal;var o=(0,s.useState)(t||eW),l=o[0],d=o[1];return(0,s.useEffect)(function(){d(t)},[t]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:eB.__hash,children:eB}),(0,O.jsx)("div",{className:"jsx-".concat(eB.__hash)+" admin-stream-event",children:(0,O.jsx)(j.A,{fields:Object.keys(l).map(function(e){return{name:e,label:e.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()}),value:l[e],type:"number"==typeof l[e]?"number":"text",required:!0,placeholder:"Enter ".concat(e)}}),onChange:function(e){var t=e.target,a=t.name,r=t.value;d(function(e){return eJ(eJ({},e),{},(0,n.A)({},a,["lapCount","locationLatitude","locationLongitude"].includes(a)?Number(r):r))})},onSubmit:function(){a(l),c({children:"Event data updated!"})},submitText:"Save Event"})})]})};var eY=[".d-flex.jsx-1374700139,.admin-stream-event.jsx-1374700139{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".admin-stream-event.jsx-1374700139{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);padding:var(--s-9);width:var(--s-9-width);}"];eY.__hash="1374700139";var eZ=a(17812),eG=a(14588),eX=a(63387);function eK(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function e0(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eK(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eK(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var e1=[{name:"boatId",label:"Boat ID",type:"number",required:!0,value:0,placeholder:"Enter Boat ID"},{name:"placement",label:"place",type:"number",required:!0,value:1,placeholder:"Enter Boat ID"},{name:"teamName",label:"Team Name",type:"text",required:!0,value:"Team A",placeholder:"Enter Team Name"},{name:"throttleman",label:"Throttleman",type:"text",required:!0,value:"",placeholder:"Enter Throttleman"},{name:"driver",label:"Driver",type:"text",required:!0,value:"",placeholder:"Enter Driver"},{name:"class",label:"Class",type:"select",options:[{value:"Pro Class 1",label:"Pro Class 1"},{value:"Super Cat",label:"Super Cat"},{value:"Factory Stock",label:"Factory Stock"},{value:"Super Stock",label:"Super Stock"},{value:"Super V",label:"Super V"},{value:"Mod V",label:"Mod V"},{value:"Bracket Class 200",label:"Bracket Class 200"},{value:"",label:""},{value:"",label:""}],required:!0,value:"",placeholder:"Enter Class"}],e2={event:{eventName:"",locationName:"",locationLatitude:0,locationLongitude:0,lapCount:1},competitors:[e1.reduce(function(e,t){return e[t.name]="string"==typeof t.value||"number"==typeof t.value?t.value:"boolean"==typeof t.value?String(t.value):"",e},{})]};let e3=function(e){var t=e.raceData,a=e.setRaceData,r=(0,p.hS)();r.openModal,r.closeModal;var c=(0,s.useState)(e1),o=c[0],l=c[1],d=(0,s.useState)(!0),u=d[0],m=d[1],x=(null==t?void 0:t.competitors)||[],h=function(e,t,r){var i=(0,v.A)(x);if("placement"===t&&"number"==typeof r){var s=Math.max(1,r),c=i.findIndex(function(t,a){return t.placement===s&&a!==e});if(-1!==c){var o=i[c].placement;i[c].placement=i[e].placement,i[e].placement=o}else i[e].placement=s;a(i);return}i[e]=e0(e0({},i[e]),{},(0,n.A)({},t,r)),a(i)},f=function(){return x.reduce(function(e,t){var a;return e[null==t?void 0:t.name]=null!=(a=t.value)?a:"",e},{})};return((0,s.useEffect)(function(){f()},[o]),t)?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:eY.__hash,children:eY}),(0,O.jsxs)("div",{className:"jsx-".concat(eY.__hash)+" admin-stream-event",children:[u&&(0,O.jsx)(j.A,{fields:o,onChange:function(e){var t=e.target,a=t.name,n=t.value;l(function(e){return e.map(function(e){if(e.name!==a)return e;var t,r,i="number"===e.type?Number(n):n,s=null,c=e.label;if(["driver","throttleman"].includes(a))s=(0,eX.A)("name",i),c=e0(e0({},"string"==typeof c?{text:c}:c),{},{text:s?"* ".concat(s):(null==(o=c)?void 0:o.text)||a,color:s?"var(--orange-50)":void 0});else if("boatId"===e.name){var o,l,d=x.some(function(e){return Number(e.boatId)===Number(i)});0>Number(i)?s="Boat ID must be a positive number":d&&(s="Boat ID must be unique"),c=e0(e0({},"string"==typeof c?{text:c}:c),{},{text:s?"* ".concat(s):(null==(l=e.label)?void 0:l.text)||a,color:s?"var(--orange-50)":void 0})}else"teamName"===e.name&&String(i).length<3?(s="Team Name must be at least 3 characters",c=e0(e0({},"string"==typeof c?{text:c}:c),{},{text:s?"* ".concat(s):(null==(t=c)?void 0:t.text)||a,color:s?"var(--orange-50)":void 0})):null!=e&&e.options&&e.options.forEach(function(t){var a;t.value===(null==(a=Object(n))?void 0:a.value)&&(i=t.value,console.log(e0(e0({},e),{},{value:i,error:s||void 0,label:c})))});return e.required&&!i&&(s=(0,eX.A)("required",i),c=e0(e0({},"string"==typeof c?{text:c}:c),{},{text:s?"* ".concat(s):(null==(r=c)?void 0:r.text)||a,color:s?"var(--orange-50)":void 0})),e0(e0({},e),{},{value:i,error:s||void 0,label:c})})})},onSubmit:function(){var e=f();a(function(t){return[].concat((0,v.A)(t),[e0(e0({},e),{},{placement:0})])}),l(e1),m(!1)}}),(0,O.jsx)("div",{className:"jsx-".concat(eY.__hash)+" admin-stream__table",children:(0,O.jsx)(P.A,{data:null==t?void 0:t.competitors,options:{hoverable:!0,tableTitle:(0,O.jsxs)("div",{className:"jsx-".concat(eY.__hash)+" d-flex gap-5 justify-between s-w-100",children:[(0,O.jsx)("div",{className:"jsx-".concat(eY.__hash),children:"Race Data"}),(0,O.jsx)("div",{className:"jsx-".concat(eY.__hash)+" actions",children:(0,O.jsx)(y.A,{onClick:function(){l(e1),m(!0)},traits:{afterIcon:"fa-user-plus"},children:"Add Competitor"})})]}),renderCell:function(e,t,n){return"placement"===e?(0,O.jsx)(eG.A,{amount:t.placement,setAmount:function(t){return h(n,e,Math.max(1,t))},variant:"flat"}):"remove"===e?(0,O.jsx)("div",{onClick:function(){var e=(0,v.A)(x);e.splice(n,1),a(e)},style:{cursor:"pointer"},className:"jsx-".concat(eY.__hash),children:(0,O.jsx)(U.o,{icon:"fa-trash"})}):(0,O.jsx)(eZ.A,{value:String(t[e]),onChange:function(t){return h(n,e,t.target.value)},variant:"flat"})},hide:"footer"}})})]})]}):"loading"};var e5=a(18820);function e6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function e9(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?e6(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):e6(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let e4=function(e){var t={raceData:null==e?void 0:e.raceData,setRaceData:null==e?void 0:e.setRaceData,setFirst:e.setFirst},a=(0,s.useState)("Event Info"),n=a[0],r=a[1],c=function(e){var t=e.icon,a=e.text,s=e.component;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:eV.__hash,children:eV}),(0,O.jsx)("div",{className:"jsx-".concat(eV.__hash)+" admin-stream-tools__section",children:(0,O.jsx)(eQ.A,{open:n==a,label:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(U.o,{icon:t})," ",a]}),onToggle:function(e){r(n==a?"":a)},children:s})})]})};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:eV.__hash,children:eV}),(0,O.jsx)("div",{className:"jsx-".concat(eV.__hash)+" admin-stream-tools d-flex-col s-9 g-9",children:(0,O.jsxs)(V.A,{xs:1,md:2,children:[(0,O.jsxs)("div",{className:"jsx-".concat(eV.__hash)+" d-flex-col  s-9 g-9",children:[(0,O.jsx)("div",{className:"jsx-".concat(eV.__hash),children:(0,O.jsx)(c,{icon:"fa-checker-flag",text:"Event Info",component:(0,O.jsx)(e$,{event:e2.event,setEvent:function(t){return e.setRaceData(function(e){return e9(e9({},e),{},{event:t})})}}),className:"jsx-".concat(eV.__hash)})}),(0,O.jsx)("div",{className:"jsx-".concat(eV.__hash),children:(0,O.jsx)(c,{icon:"fa-circle-user",text:"Competitors",component:(0,O.jsx)(e3,e9({},t)),className:"jsx-".concat(eV.__hash)})})]}),(0,O.jsx)("div",{style:{position:"relative"},className:"jsx-".concat(eV.__hash),children:(0,O.jsx)(e5.A,{variant:"embedded"})})]})})]})};function e8(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function e7(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?e8(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):e8(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let te=function(){var e,t,a=(0,s.useState)(!1),n=(a[0],a[1]),r=function(e){var t={};return(Array.isArray(e)?e:Object.entries(e).map(function(e){var t=(0,d.A)(e,2);return{name:t[0],value:t[1]}})).forEach(function(e){t[e.name]=e.value}),"number"!=typeof t.placement&&(t.placement=Number(t.placement)||0),t},c=e7(e7({},e2),{},{competitors:Array.isArray(e2.competitors)?e2.competitors.map(function(e){return r(e)}):[]});console.log("initialRaceData:",c);var o=(0,s.useState)(c),l=o[0],u=o[1];return console.log("placements:",(t={},null==e2||null==(e=e2.competitors)?void 0:e.map(function(e){var a=Array.isArray(e)?e:Object.entries(e).map(function(e){var t=(0,d.A)(e,2);return{name:t[0],value:t[1]}}),n=(0,g.PG)(a,"teamName","placement");return t=e7(e7({},t),n)}))),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:eU.__hash,children:eU}),(0,O.jsxs)("div",{className:"jsx-".concat(eU.__hash)+" admin-stream",children:[(0,O.jsx)("div",{className:"jsx-".concat(eU.__hash)+" admin-stream__header"}),(0,O.jsxs)("div",{className:"jsx-".concat(eU.__hash)+" admin-stream__body",children:[(0,O.jsxs)(V.A,{xs:2,md:3,variant:"card",gap:10,children:[(0,O.jsxs)("div",{className:"jsx-".concat(eU.__hash)+" admin-stream__card",children:[(0,O.jsx)("div",{className:"jsx-".concat(eU.__hash)+" admin-stream__card-header",children:"Competitors"}),(0,O.jsx)("div",{className:"jsx-".concat(eU.__hash)+" admin-stream__card-body",children:String(l.competitors.length)})]}),(0,O.jsxs)("div",{className:"jsx-".concat(eU.__hash)+" admin-stream__card",children:[(0,O.jsx)("div",{className:"jsx-".concat(eU.__hash)+" admin-stream__card-header",children:"Current Lap"}),(0,O.jsx)("div",{className:"jsx-".concat(eU.__hash)+" admin-stream__card-body",children:"12 of 20"})]}),(0,O.jsx)("div",{className:"jsx-".concat(eU.__hash)+" admin-stream__card",children:(0,O.jsx)("div",{className:"jsx-".concat(eU.__hash)+" admin-stream__card-header",children:"First Place"})})]}),(0,O.jsx)(e4,e7({},{raceData:l,setRaceData:u,setFirst:n}))]})]})]})};function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ta(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let tn=function(){var e={customers:(0,O.jsx)(eN,{}),stream:(0,O.jsx)(te,{}),data:(0,O.jsx)(eI,{}),products:(0,O.jsx)(F,{}),remote:(0,O.jsx)(eL,{}),sales:(0,O.jsx)(J,{}),operations:(0,O.jsx)("h1",{children:"Operations"}),finance:(0,O.jsx)("h1",{children:"Finance and Accounting"}),marketing:(0,O.jsx)(B,{}),humanResources:(0,O.jsx)("h1",{children:"Human Resources"}),customerService:(0,O.jsx)("h1",{children:"Customer Service"}),infoTechnology:(0,O.jsx)("h1",{children:"Information Technology"}),develop:(0,O.jsx)("h1",{children:"Research and Development"}),legal:(0,O.jsx)("h1",{children:"Legal"}),procurement:(0,O.jsx)("h1",{children:"Procurement"}),strategicPlanning:(0,O.jsx)("h1",{children:"Strategic Planning"})},t=(0,s.useState)(),a=t[0],n=t[1],r=(0,D.QY)(),l=(0,s.useState)(r),d=l[0];return(l[1],(0,s.useEffect)(function(){d<10&&a||(d&&d>=10?n(ta(ta({},e),{},{accounts:(0,O.jsx)(q,{})})):n(e))},[]),void 0===a)?(0,O.jsx)(O.Fragment,{children:"not authorized"}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i(),{id:c.__hash,children:c}),(0,O.jsx)(o.A,{title:(0,O.jsx)("div",{className:"jsx-".concat(c.__hash)+" d-flex s-5",children:"Admin"}),subTitle:"admin: level ".concat(d),views:a,viewName:Object.keys(e)[0]})]})}}}]);