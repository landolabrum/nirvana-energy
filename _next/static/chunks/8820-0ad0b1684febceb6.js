"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8820],{18820:(e,t,n)=>{n.d(t,{A:()=>en});var r=n(42969),s=n(45794),a=n(54604),o=n.n(a),i=n(14232),l=n(11324),c=n.n(l),u=[".d-flex.jsx-3447896387,.map-tools.jsx-3447896387,.map-content.jsx-3447896387,.map-container.jsx-3447896387{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","@-webkit-keyframes fadein-jsx-3447896387{0%{opacity:0;-webkit-filter:blur(2px);filter:blur(2px);}100%{opacity:1;-webkit-filter:blur(0);filter:blur(0);}}","@keyframes fadein-jsx-3447896387{0%{opacity:0;-webkit-filter:blur(2px);filter:blur(2px);}100%{opacity:1;-webkit-filter:blur(0);filter:blur(0);}}",".map-container.jsx-3447896387{position:fixed;width:100%;height:100%;top:0;left:0;right:0;bottom:0;z-index:1;}","@media (max-width:1100px){.map-container.jsx-3447896387{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}",".map-content.jsx-3447896387{width:100%;height:100%;position:relative;}","@media (max-width:1100px){.map-content.jsx-3447896387{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}",".map.jsx-3447896387{height:100%;width:100%;}",".map__vessel-details.jsx-3447896387{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:-webkit-max-content;width:-moz-max-content;width:max-content;height:-webkit-max-content;height:-moz-max-content;height:max-content;}",".map-tools.jsx-3447896387{gap:var(--s-3);cursor:pointer;color:var(--white);--ui-icon-color:var(--gray-30);--ui-icon-size:var(--s-1);position:absolute;bottom:var(--s-9);left:var(--s-9);right:var(--s-9);padding:var(--s-1);-webkit-animation-delay:1s;animation-delay:1s;-webkit-animation:fadein-jsx-3447896387 1s ease-in forwards;animation:fadein-jsx-3447896387 1s ease-in forwards;-webkit-transition:all 1s ease-in-out;transition:all 1s ease-in-out;height:-webkit-max-content;height:-moz-max-content;height:max-content;}",".embedded-map.jsx-3447896387{width:100%;height:100%;position:relative;background:#000;}",".embedded-map.jsx-3447896387 .map-content.jsx-3447896387{width:100%;height:100%;}",".embedded-map.jsx-3447896387 .map.jsx-3447896387{width:100%;height:100%;}",".embedded-map.jsx-3447896387 .map-tools.jsx-3447896387{position:absolute;top:10px;left:10px;background-color:#ffdb4d;border-radius:10px;box-shadow:0 4px 6px rgba(0,0,0,0.1),0 8px 10px rgba(0,0,0,0.1);padding:10px;color:#000;}",".embedded-map.jsx-3447896387 .map-tools.jsx-3447896387 .map-tools--layer.jsx-3447896387{margin-bottom:10px;}",".embedded-map.jsx-3447896387 .map-tools.jsx-3447896387 .map-tools--layer.jsx-3447896387 .fa-xmark.jsx-3447896387{color:#000;font-size:24px;cursor:pointer;}",".embedded-map.jsx-3447896387 .map-tools.jsx-3447896387 .map-tools--layer.jsx-3447896387 .fa-xmark.jsx-3447896387:hover{color:#333;}",".embedded-map.jsx-3447896387 .map-tools.jsx-3447896387 .map-tools--item.jsx-3447896387{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#ffdb4d;border-radius:5px;margin:5px 0;padding:10px;box-shadow:0 2px 4px rgba(0,0,0,0.2);}",".embedded-map.jsx-3447896387 .map-tools.jsx-3447896387 .map-tools--item.jsx-3447896387:hover{background-color:#ffc107;}",".embedded-map.jsx-3447896387 .map-tools.jsx-3447896387 .map-tools--item.jsx-3447896387 .fa-icon.jsx-3447896387{color:#000;font-size:20px;margin-right:5px;}",".embedded-map.jsx-3447896387 .map-tools--search.jsx-3447896387{background-color:#ffdb4d;border:none;border-radius:5px;padding:10px;width:calc(100% - 20px);box-shadow:0 2px 4px rgba(0,0,0,0.2);}",".embedded-map.jsx-3447896387 .map-tools--search.jsx-3447896387:focus{outline:none;box-shadow:0 2px 4px rgba(0,0,0,0.4);}",".ui-icon.jsx-3447896387{color:#000;font-size:24px;cursor:pointer;}",".ui-icon.jsx-3447896387:hover{color:#333;}"];u.__hash="3447896387";var d=n(39286),m=n(25179),f=n(63857),h=n(43081),x=n.n(h),p=n(31361),v=n(5126);let b=function(){var e=(0,v.hS)(),t=e.openModal,n=e.closeModal,r=e.isModalOpen,s=(0,i.useState)(),a=s[0],o=s[1],l=(0,i.useState)(!1),c=l[0],u=l[1],d=(0,i.useRef)(null),m=(0,i.useCallback)(function(e){o([Number(e.coords.longitude.toFixed(2)),Number(e.coords.latitude.toFixed(2))])},[]),f=(0,i.useCallback)(function(){console.error("Unable to retrieve your location"),u(!0)},[]),h=(0,i.useCallback)(function(){var e=d.current;e&&"granted"===e.state?(n(),navigator.geolocation.getCurrentPosition(m,f)):u(!0)},[n,f,m]),x=(0,i.useCallback)(function(){navigator.permissions?navigator.permissions.query({name:"geolocation"}).then(function(e){d.current=e,e.addEventListener("change",h),"granted"===e.state?navigator.geolocation.getCurrentPosition(m,f):"prompt"!==e.state||r?u(!0):r||t({title:"Know Your Location",confirm:{title:"Enable Location",body:"To use this feature, please enable location access.",statements:[{label:"Allow",onClick:function(){var e;null==(e=d.current)||e.addEventListener("change",h),navigator.geolocation.getCurrentPosition(m,f)}},{label:"Deny",onClick:function(){n(),u(!0)}}]}})}).catch(function(e){console.error("Error querying permissions",e),u(!0)}):(console.error("Permission API not supported"),u(!0))},[h,f,m,r]);return(0,i.useEffect)(function(){return function(){var e=d.current;e&&e.removeEventListener("change",h)}},[h]),{lngLat:a,requestLocation:x,permissionDenied:c}};var g=n(89099),w=n(58283),j=n(37876);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.require,n=(0,p.cQ)("IMemberService"),r=(0,v.hS)(),s=r.isModalOpen,a=r.openModal;r.closeModal;var o=(0,i.useState)("sign-in"),l=o[0],c=o[1],u=(0,i.useState)(),d=u[0];u[1];var m=(0,g.useRouter)().query,h=b(),y=h.lngLat,O=h.requestLocation,L=h.permissionDenied,_=(0,i.useState)(),P=_[0],E=_[1],S=(0,i.useState)(function(){var e=n.getCurrentUser();return e?k(k({},e),{},{userAgent:{user_agent:"",user_agent_data:null,wan:""},lngLat:y}):void 0}),D=S[0],N=S[1];(0,i.useEffect)(function(){var e,t=(e=(0,f.A)(x().mark(function e(){var t,n,r,s,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.navigator.userAgent,r="userAgentData"in(n=navigator)?n.userAgentData:null,N(function(e){return k(k({},e),{},{userAgent:{user_agent:t,user_agent_data:r}})}),e.prev=4,e.next=7,fetch("https://ipapi.co/json/");case 7:if(!(s=e.sent).ok){e.next=16;break}return e.next=11,s.json();case 11:a=e.sent.ip,N(function(e){return k(k({},e),{},{userAgent:k(k({},e.userAgent),{},{wan:a})})}),e.next=17;break;case 16:console.error("Failed to fetch IP address information.");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),console.error("Error fetching IP address information:",e.t0);case 22:case"end":return e.stop()}},e,null,[[4,19]])})),function(){return e.apply(this,arguments)});return t(),window.addEventListener("load",t),function(){window.removeEventListener("load",t)}},[]);var A=function(e){s||(c(e),a({title:"sign in ",children:(0,j.jsxs)(j.Fragment,{children:["     ",(0,j.jsx)(w.default,{view:e})]})}))};(0,i.useEffect)(function(){m&&m.verify&&"verify"!==l&&c("verify"),void 0===d||s||"sign-in"===l||c("sign-in")},[m,s,d,l]),(0,i.useEffect)(function(){y&&N(function(e){return k(k({},e),{},{lngLat:y})})},[y]),(0,i.useEffect)(function(){D&&!D.userAgent.user_agent&&N(function(e){return k(k({},e),{},{userAgent:{user_agent:window.navigator.userAgent,user_agent_data:navigator.userAgentData||null}})})},[D]);var z=function(){!t||"location"===t&&null!=D&&D.id&&"user"===P&&s||(P&&"location"===t&&"done"===P||E("user"),A("sign-in"))},C=function(){"user"!==P||"sign-in"!==l||s?(D||"location"===t)&&E("location"):E("location")};return(0,i.useEffect)(function(){t&&(null!=D&&D.id||void 0!==P||z(),"location"!==P&&C(),"location"!==P||null!=D&&D.lngLat||s||L||O(),L&&(E("done"),N(function(e){return k(k({},e),{},{lngLat:[0,0]})})))},[s,L,P]),D};var L=n(70236),_=function(e,t){var n=t.lngLat,r=void 0===n?[0,0]:n,s=t.zoom,a=t.offset,o=void 0===a?{x:0,y:0}:a,i=t.direction;if(e){var l=(0,L.A)(r);if(i){var c=e.getCanvas();c.width,c.height;var u=0,d=0;switch(i){case"up":d=-o.y;break;case"down":d=o.y;break;case"left":u=-o.x;break;case"right":u=o.x}var m=e.project(r);m.x+=u,m.y+=d,l=e.unproject(m).toArray()}e.flyTo({center:l,zoom:void 0===s?9:s,essential:!0})}},P=n(55108),E=[".d-flex.jsx-4061511625,.vessel-details.jsx-4061511625,.vessel-details--container.jsx-4061511625{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".d-flex-content.jsx-4061511625,.vessel-details--images.jsx-4061511625,.vessel-details-content.jsx-4061511625{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);}","@-webkit-keyframes flicker-jsx-4061511625{0%{background-color:#ffc40c;}50%{background-color:#b3b3b3;box-shadow:-2px -1px 7px #b3b3b3,2px 1px 6px #b3b3b3;}100%{background-color:#ffc40c;}}","@keyframes flicker-jsx-4061511625{0%{background-color:#ffc40c;}50%{background-color:#b3b3b3;box-shadow:-2px -1px 7px #b3b3b3,2px 1px 6px #b3b3b3;}100%{background-color:#ffc40c;}}","@-webkit-keyframes bigSlide-jsx-4061511625{from{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}to{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}}","@keyframes bigSlide-jsx-4061511625{from{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}to{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}}","@-webkit-keyframes smallSlide-jsx-4061511625{from{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);}to{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}","@keyframes smallSlide-jsx-4061511625{from{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);}to{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}",".vessel-details--container.jsx-4061511625{z-index:1006;position:fixed;right:0;height:100vh;}","@media (max-width:1100px){.vessel-details--container.jsx-4061511625{height:unset;min-height:66vh;width:var(--s-9-width);right:auto;min-width:110px;bottom:var(--s-5);}}",".vessel-details--container.show.jsx-4061511625{opacity:1;visibility:visible;-webkit-animation:bigSlide-jsx-4061511625 0.5s forwards ease-out;animation:bigSlide-jsx-4061511625 0.5s forwards ease-out;}","@media (max-width:1260px){.vessel-details--container.show.jsx-4061511625{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-animation:smallSlide-jsx-4061511625 0.5s forwards ease-out;animation:smallSlide-jsx-4061511625 0.5s forwards ease-out;}}",".vessel-details--container.hide.jsx-4061511625{opacity:0;visibility:hidden;-webkit-animation:bigSlide-jsx-4061511625 0.5s reverse ease-out;animation:bigSlide-jsx-4061511625 0.5s reverse ease-out;}","@media (max-width:1260px){.vessel-details--container.hide.jsx-4061511625{-webkit-animation:smallSlide-jsx-4061511625 0.5s reverse ease-out;animation:smallSlide-jsx-4061511625 0.5s reverse ease-out;}}",".vessel-details.jsx-4061511625{width:var(--s-9-width);height:var(--s-2-width);padding:var(--s-5) var(--s-9);position:relative;overflow:hidden;border-radius:var(--border-radius);overflow-y:auto;right:var(--s-9);background-color:var(--gray-70);box-shadow:inset calc(var(--s-12) * -1) calc(var(--s-12) * -1) var(--s-11) var(--s-11) var(--gray-80),inset 0 0 var(--s-11) var(--s-11) var(--gray-70);}","@media (max-width:1100px){.vessel-details.jsx-4061511625{border-radius:var(--border-radius);border:none;height:calc(100% + var(--s-8));width:var(--s-9-width);padding:var(--s-9) var(--s-9);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;left:auto;right:auto;top:calc(var(--s-8) * -1);min-width:110px;}}",".vessel-details-sliver.jsx-4061511625{border-radius:var(--s-5);margin:var(--s-10);cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;height:300px;min-width:var(--s-10);position:absolute;left:0;}","@media (max-width:1100px){.vessel-details-sliver.jsx-4061511625{height:var(--s-9);min-width:300px;}}",".vessel-details-content.jsx-4061511625{gap:var(--s-4);height:100%;min-height:600px;width:var(--s-6-width);}",".vessel-details-content.dragging.jsx-4061511625{-webkit-filter:brightness(0.66);filter:brightness(0.66);}","@media (max-height:1100px){.vessel-details-content.jsx-4061511625{height:unset;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}","@media (max-width:1100px){.vessel-details-content.jsx-4061511625{padding:var(--s-9) 0 var(--s-1);padding-top:var(--s-element);}}",".vessel-details-content--header.jsx-4061511625{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;}",".vessel-details-content--body.jsx-4061511625{gap:var(--s-1);border-radius:var(--border-radius);width:var(--s-9-width);height:var(--s-9-width);padding:var(--s-9);}",".vessel-details-content--body-description.jsx-4061511625{font-family:Game;}",".vessel-details--images.jsx-4061511625{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;gap:var(--s-9);}",".vessel-details--image.jsx-4061511625{width:33%;height:auto;overflow:hidden;border-radius:var(--s-11);}","@media (max-width:100px){.vessel-details--image.jsx-4061511625{min-height:100px;}}",".vessel-details--image-main.jsx-4061511625{border-radius:var(--s-11);width:100%;}",".walkman-button.jsx-4061511625{background-color:#000000;border-radius:50%;width:40px;height:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#ffffff;font-size:1.5rem;box-shadow:0 4px #808080;cursor:pointer;}",".walkman-button.jsx-4061511625:hover{background-color:black;}",".walkman-button.jsx-4061511625:active{background-color:#1a1a1a;box-shadow:0 2px #808080;}"];E.__hash="4061511625";var S=n(65976);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let A=function(e){var t,n,r=e.vessel,a=e.setVessel,l=e.onResize,c=(0,d.A)(),u=c.width,m=c.height,f=u>=1100,h=(0,i.useState)(!1),x=h[0],p=h[1],v=(0,i.useState)(!1),b=v[0],g=v[1],w=f?{width:400,height:m}:{width:u-30,height:300},y=(0,i.useState)(w),k=y[0],O=y[1],L=(0,i.useRef)(null),_=null==L?void 0:L.current,P=(0,i.useRef)(null),D=(0,i.useRef)(null),A=(0,i.useRef)(0),z=(0,i.useCallback)(function(){var e;null!=L&&null!=(e=L.current)&&e.style&&(_.style=void 0),O(w),a(!1)},[a,w]);(0,i.useEffect)(function(){b&&z()},[b,z]);var C=(0,i.useCallback)(function(){p(!1);var e=f?k.width:k.height;_&&(null==l||l(e),f?_.style.width="".concat(e,"px"):_.style.height="".concat(e,"px"),e<200&&z())},[k,f,l,z]),M=(0,i.useCallback)(function(e){if(_.style&&(_.style=void 0),x&&_)if(f){var t=u-30-e.clientX;if(t>u/2)return;O(function(e){return N(N({},e),{},{width:t})}),_.style.width="".concat(t,"px"),null==l||l(t),t<200&&z();return}else{var n=m-e.clientY;if(n>m/2)return;O(function(e){return N(N({},e),{},{height:n})}),_.style.height="".concat(n,"px"),null==l||l(n),n<200&&z()}},[x,f,u,m,l,z]);return((0,i.useEffect)(function(){return x?(window.addEventListener("mousemove",M),window.addEventListener("mouseup",C)):(window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",C)),function(){window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",C)}},[x,M,C]),r)?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o(),{id:E.__hash,children:E}),(0,j.jsx)("div",{onTouchStart:function(e){P.current=e.touches[0].clientY,p(!0)},onTouchMove:function(e){if(null!==P.current){D.current=e.touches[0].clientY;var t=-1*Number(A.current)+_.offsetHeight/2<m/2;A.current=D.current-P.current,_&&t&&(_.style.transform="translateY(".concat(A.current,"px)"))}},onTouchEnd:function(){p(!1),null!==P.current&&null!==D.current&&(D.current-P.current>50?g(!0):_&&(_.style.transform="translateY(0)")),P.current=null,D.current=null,A.current=0},style:f?{width:k.width,height:m}:{width:0==u?400:void 0,height:k.height},className:"jsx-".concat(E.__hash)+" "+"vessel-details--container ".concat(r?"show":"hide"),children:(0,j.jsxs)("div",{ref:L,className:"jsx-".concat(E.__hash)+" vessel-details",children:[(0,j.jsx)("div",{onMouseDown:function(){return p(!0)},className:"jsx-".concat(E.__hash)+" "+"vessel-details-sliver ".concat(x?"dragging":"")}),(null==r?void 0:r.name)&&(0,j.jsxs)("div",{className:"jsx-".concat(E.__hash)+" "+"vessel-details-content ".concat(x?"dragging":""),children:[(0,j.jsx)("div",{className:"jsx-".concat(E.__hash)+" vessel-details-content--header",children:(0,j.jsx)(S.A,N({},(t=r.name.split(" ",2),{title:(n=(0,s.A)(t,2))[0],subTitle:n[1]})))}),(0,j.jsxs)("div",{className:"jsx-".concat(E.__hash)+" vessel-details-content--body",children:[(0,j.jsx)("div",{className:"jsx-".concat(E.__hash)+" vessel-details--images",children:r.images&&r.images.map(function(e,t){return(0,j.jsx)("img",{src:e,alt:"main",className:"jsx-".concat(E.__hash)+" "+"vessel-details--image".concat(0===t?"-main":"")},t)})}),r.description&&(0,j.jsx)("div",{className:"jsx-".concat(E.__hash)+" vessel-details-content--body-description",children:r.description})]})]})]})})]}):null};var z=[".map-search.jsx-1040465573{min-width:300px;}","@media (max-width:1100px){.map-search.jsx-1040465573{min-width:70vw;}}"];z.__hash="1040465573";var C=n(17812);let M=function(e){var t,n=e.handleSearch,r=e.searched,s=(0,i.useState)("where to?"),a=s[0],l=s[1],c=["New York","Los Angeles","Chicago","Houston","Phoenix"];return(0,i.useEffect)(function(){var e=function(){var e=0;return t=setInterval(function(){l(c[e]),e=(e+1)%c.length},5e3),function(){clearInterval(t)}};setTimeout(function(){e()},5e3)},[]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o(),{id:z.__hash,children:z}),(0,j.jsx)("div",{className:"jsx-".concat(z.__hash)+" map-search",children:(0,j.jsx)(C.A,{name:"address",size:"xl",variant:"transparent round",placeholder:a,value:r,onChange:n})})]})},Y=function(e){e.lngLat;var t=e.setLngLat,n=e.map,r=(0,i.useState)(),s=r[0],a=r[1],o=function(e){var r=e.target.value,s=[null==r?void 0:r.lng,null==r?void 0:r.lat];s&&(a(r),t(s),_(n,{lngLat:s,zoom:14}))};return(0,i.useEffect)(function(){},[o]),{searched:s,handleSearch:o}};var R=n(78944),T=n(54587),X=n.n(T);let H=function(e){var t=e.vessel,n=e.onClick,r=e.onMouseEnter,s=e.onMouseLeave,a=e.hideHover,o=void 0!==a&&a,i="vsl ".concat(null!=t&&t.className?t.className+"-mrkr":"");if(!t)return null;var l=function(e){var a=document.getElementById("vsl-".concat(t.id));a&&("click"===e?n&&n(t):"enter"===e?(o||null==a||a.classList.add("vsl-mrkr--hover"),r&&r(t)):"leave"===e&&setTimeout(function(){a.className="vsl-mrkr",s&&s(t)},2e3))},c=(null==t?void 0:t.className)=="user";return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{onMouseEnter:function(){return l("enter")},onClick:function(){return l("click")},className:i,children:[(0,j.jsx)("div",{className:"vsl-icon",children:(0,j.jsx)(P.o,{glow:c,icon:c?"fal-circle-user":"fa-location-dot"})}),(0,j.jsx)("div",{id:"vsl-".concat(t.id),onMouseLeave:function(){return l("leave")},className:"vsl-mrkr",children:(0,j.jsxs)("div",{className:"vsl-mrkr--content",children:[(0,j.jsx)("div",{className:"vsl-mrkr--content-header",children:(0,j.jsx)("h4",{children:null==t?void 0:t.name})}),(null==t?void 0:t.images)&&(0,j.jsx)("div",{className:"vsl-mrkr--content-image",children:(0,j.jsx)(X(),{fill:!0,src:t.images[0],alt:""})})]})})]})})};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let F=function(e,t,n,r){n&&n.forEach(function(n){var s=document.createElement("div");(0,R.createRoot)(s).render(H(Z(Z({vessel:n},t),{},{hideHover:r}))),n.lngLat&&new(c()).Marker(s).setLngLat(n.lngLat).addTo(e)})};var I=n(4917),V=n.n(I),U=!1,G=null,J=1,B="LandSvg";let K=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.rpm,a=void 0===s?500:s,o=r.zoom,i=void 0===o?3:o,l=r.maxZoom,c=void 0===l?5:l;function u(){if(!U){var t=e.getZoom(),n=e.getCenter();if(t<c){var r=360/a*J;t>i&&(r*=(c-t)/(c-i)),n.lng-=r,e.easeTo({center:n,duration:1500,easing:function(e){return e}})}}}e.on("moveend",u),u(),t=function(){U=!0,G=Date.now()},n=V()(function(){U=!1,J=1+(Date.now()-(G||Date.now()))/5e3,u()},3e3),e.on("mousedown",t),e.on("mouseup",n),e.on("touchstart",t),e.on("touchend",n),e.on("mousemove",n),e.on("touchmove",n),e.getLayer(B)?(e.on("mouseenter",B,function(){return e.fire("mouseenter")}),e.on("mouseleave",B,function(){return e.fire("mouseleave")})):console.warn('Layer "'.concat(B,'" does not exist'))};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let $=function(e){var t=e.map,n=e.profile,r=e.vessels,s=e.userVesselConfig,a=e.vesselActions,o=e.mapOptions,i=e.stopLoader,l=e.setLngLat,c=e.setZoom,u=e.hideHover,d=(null==n?void 0:n.lngLat)&&n.lngLat.every(function(e){return 0!==e});t.on("style.load",function(){var e=(null!=n&&n.lngLat&&(s.lngLat=null==n?void 0:n.lngLat),r)?d?[].concat((0,L.A)(r),[s]).map(function(e,t){return W(W({},e),{},{id:t+1})}):(_(t,{lngLat:[-95,37]}),(0,L.A)(r).map(function(e,t){return W(W({},e),{},{id:t+1})})):[s];F(t,a,e,u),(null==o?void 0:o.rpm)&&K(t),i()}),t.on("move",function(){l(t.getCenter().toArray()),c(t.getZoom())})},ee=function(e,t,n,r,s,a,o,i,l){if(e.current){var c=t.current,u=n>=1100;e.current.style,a<100?o(!1):!1!==s&&(_(c,{lngLat:i.lngLat,zoom:15,offset:u?{x:.5*a,y:0}:{y:.5*a,x:0},direction:u?"right":"down"}),t.current&&t.current.resize())}};function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}c().accessToken="pk.eyJ1IjoibGFuZG9sYWJydW0iLCJhIjoiY2xnMDZ1aGVsMHJ5MzNsdGF3aHZhM3dtbyJ9.UihOXtkEeRk5tQDgDK8cLg";let en=function(e){var t=e.options,n=e.vessels,a=e.onVesselClick,l=e.require,f=e.hideHover,h=e.variant,x=void 0===h?"fullscreen":h,p=(0,i.useRef)(null),v=(0,i.useRef)(null),b=(0,m.pn)(),w=(0,s.A)(b,2),y=w[0],k=w[1],L=O({require:l}),E=(0,g.useRouter)(),S=(0,i.useState)(null),D=S[0],N=S[1],z=(0,i.useState)("cmavthexs01o901rf7qmpf9w7"),C=z[0],R=z[1],T=(0,i.useState)(),X=T[0],H=T[1],q=(0,d.A)(),Z=q.width,F=q.height,I={globeZoom:Z<900?.6:Z>1400?2:(Z-900)/500*1.4+.6,mapZoom:7,isGlobe:5},V={container:p.current,center:(null==t?void 0:t.center)||(null==L?void 0:L.lngLat)||[0,10],zoom:(null==t?void 0:t.zoom)||I.globeZoom,style:"mapbox://styles/landolabrum/".concat(C),projection:{name:"globe"},antialias:!0,rpm:null==t?void 0:t.rpm},U=(0,i.useState)(V.zoom||8),G=U[0],J=U[1],B=(0,i.useState)(V.center||[0,0]),K=B[0],Q=B[1],W=Y({lngLat:K,setLngLat:Q,map:v.current}),en=W.searched,er=W.handleSearch,es={name:null!=L&&L.name?"".concat(L.name):"You are here",className:"user",images:["https://a0.muscache.com/im/pictures/hosting/Hosting-U3RheVN1cHBseUxpc3Rpbmc6MTEyNDAxNzM1NTk1NjgzMjg4Mw%3D%3D/original/e1573119-8f57-4e97-9d4f-9ed4be4de8b4.jpeg?im_w=1200","https://a0.muscache.com/im/pictures/hosting/Hosting-U3RheVN1cHBseUxpc3Rpbmc6MTEyNDAxNzM1NTk1NjgzMjg4Mw%3D%3D/original/a6f2bd88-0ef0-455b-8f00-433eee5b13c2.jpeg?im_w=720"],lngLat:(null==L?void 0:L.lngLat)||[0,0]},ea={onClick:function(e){var t=null==v?void 0:v.current;t&&e&&(N(e),a&&a(e),_(t,{lngLat:e.lngLat,zoom:15}))},onMouseEnter:function(e){},onMouseLeave:function(){}},eo=function(){null!=t&&t.loadingDelay?t.loadingDelay&&setTimeout(function(){k({active:!1})},t.loadingDelay):k({active:!1})},ei=(0,d.A)().width;(0,i.useEffect)(function(){var e=X&&X===E.asPath,t=!!((null==L?void 0:L.lngLat)||!l)&&p.current&&e;if(X||H(E.asPath),v.current||!e||y.active?!e&&y.active&&eo():k({active:!0,body:" ",iconSize:ei<=1100?"70vw":"350px"}),t){var s=new(c()).Map(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},V));return $({map:s,profile:L,vessels:n,userVesselConfig:es,vesselActions:ea,mapOptions:V,stopLoader:eo,setLngLat:Q,setZoom:J,hideHover:f}),v.current=s,function(){s.remove(),v.current=null}}},[p.current,R,l,L,Z,E.asPath,C]),(0,i.useEffect)(function(){null!=p&&p.current&&(p.current.style.height="100vh",p.current.style.width="100%",v.current&&v.current.resize())},[!1==D]);var el=(0,i.useCallback)(function(e){return ee(p,v,Z,F,null!==D,e,N,D,G)},[Z,F,D,G]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o(),{id:u.__hash,children:u}),(0,j.jsx)("div",{className:"jsx-".concat(u.__hash)+" "+(("fullscreen"===x?"map-container":"embedded")||""),children:(0,j.jsxs)("div",{style:"fullscreen"!==x?{height:"100%",width:"100%",position:"relative"}:void 0,className:"jsx-".concat(u.__hash)+" map-content",children:[(0,j.jsx)("div",{ref:p,onDoubleClick:function(){return D&&N(!1)},style:"fullscreen"!==x?{height:"100%",width:"100%"}:void 0,className:"jsx-".concat(u.__hash)+" map"}),D&&(0,j.jsx)(A,{vessel:D,setVessel:N,onResize:el}),!y.active&&(0,j.jsxs)("div",{className:"jsx-".concat(u.__hash)+" map-tools",children:[(0,j.jsx)("div",{className:"jsx-".concat(u.__hash)+" map-tools--layer",children:(0,j.jsx)(P.o,{icon:"fa-xmark",onClick:function(){return R("clwvqyuxe01bl01q11d6m8nh7")}})}),(0,j.jsx)(M,{searched:en,handleSearch:er}),(0,j.jsx)(P.o,{onClick:function(){_(null==v?void 0:v.current,{zoom:G>6?10:6})},icon:G>6?"fa-globe":"fa-map"})]})]})})]})}}}]);