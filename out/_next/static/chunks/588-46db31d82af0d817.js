(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{5941:function(e,t,n){"use strict";var r=n(930);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{noSSR:function(){return _noSSR},default:function(){return dynamic}});var i=n(8754),a=(n(7294),i._(n(3449)));function convertModule(e){return{default:(null==e?void 0:e.default)||e}}function _noSSR(e,t){return delete t.webpack,delete t.modules,e(t)}function dynamic(e,t){var n=a.default,r={loading:function(e){return e.error,e.isLoading,e.pastDelay,null}};e instanceof Promise?r.loader=function(){return e}:"function"==typeof e?r.loader=e:"object"==typeof e&&(r=_objectSpread(_objectSpread({},r),e));var i=(r=_objectSpread(_objectSpread({},r),t)).loader;return(r.loadableGenerated&&(r=_objectSpread(_objectSpread({},r),r.loadableGenerated),delete r.loadableGenerated),"boolean"!=typeof r.ssr||r.ssr)?n(_objectSpread(_objectSpread({},r),{},{loader:function(){return null!=i?i().then(convertModule):Promise.resolve(convertModule(function(){return null}))}})):(delete r.webpack,delete r.modules,_noSSR(n,r))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5079:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return r}});var r=n(8754)._(n(7294)).default.createContext(null)},3449:function(e,t,n){"use strict";/**
@copyright (c) 2017-present James Kyle <me@thejameskyle.com>
 MIT License
 Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:
 The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE
*/var r=n(930),i=n(3227),a=n(8361);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});var s=n(8754)._(n(7294)),o=n(5079),c=[],l=[],d=!1;function load(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e,e}).catch(function(e){throw n.loading=!1,n.error=e,e}),n}var u=function(){function LoadableSubscription(e,t){i(this,LoadableSubscription),this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return a(LoadableSubscription,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"==typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout(function(){e._update({pastDelay:!0})},n.delay)),"number"==typeof n.timeout&&(this._timeout=setTimeout(function(){e._update({timedOut:!0})},n.timeout))),this._res.promise.then(function(){e._update({}),e._clearTimeouts()}).catch(function(t){e._update({}),e._clearTimeouts()}),this._update({})}},{key:"_update",value:function(e){this._state=_objectSpread(_objectSpread({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(function(e){return e()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),LoadableSubscription}();function Loadable(e){return function(e,t){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),r=null;function init(){if(!r){var t=new u(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!d){var i=n.webpack?n.webpack():n.modules;i&&l.push(function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}}(e))){n&&(e=n);var r=0,F=function(){};return{s:F,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(i);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.includes(r))return init()}}catch(e){n.e(e)}finally{n.f()}})}function LoadableComponent(e,t){init(),(i=s.default.useContext(o.LoadableContext))&&Array.isArray(n.modules)&&n.modules.forEach(function(e){i(e)});var i,a=s.default.useSyncExternalStore(r.subscribe,r.getCurrentValue,r.getCurrentValue);return s.default.useImperativeHandle(t,function(){return{retry:r.retry}},[]),s.default.useMemo(function(){var t;return a.loading||a.error?s.default.createElement(n.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:r.retry}):a.loaded?s.default.createElement((t=a.loaded)&&t.default?t.default:t,e):null},[e,a])}return LoadableComponent.preload=function(){return init()},LoadableComponent.displayName="LoadableComponent",s.default.forwardRef(LoadableComponent)}(load,e)}function flushInitializers(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then(function(){if(e.length)return flushInitializers(e,t)})}Loadable.preloadAll=function(){return new Promise(function(e,t){flushInitializers(c).then(e,t)})},Loadable.preloadReady=function(e){return void 0===e&&(e=[]),new Promise(function(t){var res=function(){return d=!0,t()};flushInitializers(l,e).then(res,res)})},window.__NEXT_PRELOADREADY=Loadable.preloadReady;var m=Loadable},2588:function(e,t,n){"use strict";n.d(t,{Z:function(){return admin_controller_Admin}});var r=n(5003),i=n.n(r),a=n(7294),s=[];s.__hash="2085888330";var o=n(5152),c=n.n(o),l=n(5960),d=n(29),u=n(7794),m=n.n(u),f=[".d-flex.jsx-264405310,.admin-customer__header.jsx-264405310 .admin-customer__actions.jsx-264405310,.admin-customer__header.jsx-264405310{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".admin-customer.jsx-264405310{width:100%;}",".admin-customer__header.jsx-264405310{width:100%;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;gap:var(--s-9);}",".admin-customer__header.jsx-264405310 .admin-customer__actions.jsx-264405310{gap:var(--s-9);padding:var(--s-9) 0;}"];f.__hash="264405310";var h=[];h.__hash="2085888330";var p=n(1821),functions_findField=function(e,t){return(e&&Object(e).filter(function(e){return e.name==t}))[0]},x=n(5893),views_AdminCustomerAdd_AdminCustomerAdd=function(){var e=[{name:"first_name",label:"first name",placeholder:"Elon",width:"50%"},{name:"last_name",label:"last name",placeholder:"Tusk",width:"50%"},{name:"phone",label:"phone",placeholder:"4356719245",type:"tel",constraints:{min:11,max:11}},{name:"email",label:"email",placeholder:"elontusk@starlink.com",type:"email"},{name:"clearance",label:"clearance",value:0,min:1,max:9,type:"pill",required:!0},{name:"address",label:"address",placeholder:"123 Fake Street"}],t=(0,a.useState)(),n=t[0],r=t[1];return(0,a.useEffect)(function(){n||r(e)},[r]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i(),{id:h.__hash,children:h}),JSON.stringify(n),(0,x.jsx)(p.Z,{fields:n,onChange:function(e){var t=e.target,i=t.name,a=t.value;r(n.map(function(e){return e.name==i&&(e.value=a),e}))},onSubmit:function(e){console.log("[ request ]",{name:"".concat(functions_findField(n,"first_name").value," ").concat(functions_findField(n,"last_name").value),email:functions_findField(n,"email").value,phone:functions_findField(n,"phone").value,address:functions_findField(n,"address").value})}})]})},_=n(9499),b=[".admin-customer-list.jsx-2389033443{width:100%;}",".admin-customer-list__table.jsx-2389033443{width:100%;}"];b.__hash="2389033443";var v=n(2914),j=n(9280),g=n(1523),y=n(2881),w=n(5372);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,_.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var views_AdminCustomerList_AdminCustomerList=function(e){var t,n,r=e.onRowClick,s=(0,a.useState)(null),o=s[0],c=s[1],l=(0,j.ko)("IAdminService"),u=(t=(0,d.Z)(m().mark(function _callee(){var e,t;return m().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.listCustomers();case 2:(null===(e=t=n.sent)||void 0===e?void 0:e.object)==="list"&&c((t=t.data).map(function(e){var t=null!=e&&e.address&&"string"!=typeof e.address?"".concat(e.address.line1||""," ").concat(e.address.line2||""," ").concat(e.address.city||""," ").concat(e.address.state||""," ").concat(e.address.postal_code||""," ").concat(e.address.country||""):e.address,n=_objectSpread(_objectSpread(_objectSpread(_objectSpread({},e.metadata),e.invoice_settings),e.shipping),{},{description:e.description,discount:e.discount,currency:e.currency,invoice_prefix:e.invoice_prefix,next_invoice_sequence:e.next_invoice_sequence});return{customer:(0,x.jsx)(w.ZP,{cell:"member",data:{id:e.id,name:e.name,email:e.email}}),id:e.id,address:t?t.trim():"",phone:e.phone&&(0,g.wW)(e.phone),balance:e.balance,created:(0,x.jsx)(w.ZP,{cell:"date",data:e.created}),default_source:e.default_source&&(0,x.jsx)(y.a,{icon:"fas-circle-check"}),delinquent:e.delinquent,tax_exempt:(0,x.jsx)(w.ZP,{cell:"check",data:"exempt"==e.tax_exempt}),extras:n}}));case 4:case"end":return n.stop()}},_callee)})),function(){return t.apply(this,arguments)});return(0,a.useEffect)(function(){u()},[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i(),{id:b.__hash,children:b}),(0,x.jsx)("div",{className:"jsx-".concat(b.__hash)+" admin-customer-list",children:(0,x.jsx)("div",{className:"jsx-".concat(b.__hash)+" admin-customer-list__table",children:(0,x.jsx)(v.Z,{options:{hideColumns:["extras","id"],tableTitle:"customer list"},loading:!(null!==(n=Object(o))&&void 0!==n&&n.length),data:o,onRowClick:r})})})]})},k=n(7812),O=n(6835),S=[".d-flex.jsx-2093763958,.admin-customer-modify__info.jsx-2093763958,.admin-customer-modify.jsx-2093763958{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".admin-customer-modify.jsx-2093763958{border-radius:var(--border-radius);background-color:var(--gray-90);border:solid 1px var(--gray-70);padding:var(--s-3) var(--padding);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;width:auto;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;gap:var(--padding);}",".admin-customer-modify__title.jsx-2093763958{font-size:var(--s-1);height:var(--element-height);color:var(--gray-40);}",".admin-customer-modify__delete.jsx-2093763958{margin-left:auto;padding:var(--padding);width:-webkit-max-content;width:-moz-max-content;width:max-content;}",".admin-customer-modify__info.jsx-2093763958{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);width:auto;border-radius:var(--border-radius);padding:var(--padding);background-color:var(--gray-70);}",".admin-customer-modify__info--field--key.jsx-2093763958{font-weight:900;text-transform:capitalize;}"];S.__hash="2093763958";var A=n(5741),C=n(2737),P=n(7691),Z=n(9073),L=n(1163),views_AdminCustomerModify_AdminCustomerModify=function(e){var t,n=e.customerId,r=(0,L.useRouter)(),s=(0,a.useState)([]),o=(s[0],s[1]),c=(0,a.useState)(null),l=c[0],u=c[1],findField=function(e){var t;return l&&(null===(t=l.find(function(t){return t.name==e}))||void 0===t?void 0:t.value)},f=findField("name"),h=(0,A.lm)(),_=(0,O.Z)(h,2),b=(_[0],_[1]);function modifyCustomerData(e,t){var n=["id","methods","default_source","shipping","object","currency","invoice_settings","next_invoice_sequence","preferred_locales","test_clock","invoice_prefix"],r=["metadata"],i=["created","server_url","referrer_url","email_verified","delinquent","livemode","balance"],handleFormatValue=function(e,t){var n,r=t;return"methods"==e&&(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.length)&&o(t.data),"phone"==e&&(r=(0,g.wW)(t)),"default_source"==e&&console.log("default:",t),"created"==e?r=(0,g.vc)(t,{time:!0,isTimestamp:!0,returnType:"object"}):null==t&&(r=""),r},handleFormatType=function(e,t){var n="boolean"==typeof t?"checkbox":"text";return"password"==e&&(n="password"),"email_verified"==e&&(n="checkbox"),n},formatted=function(t,a){return Object.entries(t||e).filter(function(e){var t=(0,O.Z)(e,1)[0];return!r.includes(t)&&!n.includes(t)}).map(function(e){var t=(0,O.Z)(e,2),n=t[0],r=t[1];return{name:a?"".concat(a,".").concat(n):n,label:(0,C.Z)(n),value:handleFormatValue(n,r),type:handleFormatType(n,handleFormatValue(n,r)),variant:"default",disabled:i.includes(n)||void 0,placeholder:""}})};return[].concat((0,k.Z)(formatted()),(0,k.Z)(formatted(e.metadata,"metadata")))}var v=(0,Z.dd)(),y=v.openModal,w=v.closeModal,confirmDelete=function(){try{E.deleteCustomer(n),r.reload()}catch(e){alert(JSON.stringify(e))}},E=(0,j.ko)("IAdminService"),N=(t=(0,d.Z)(m().mark(function _callee(){var e;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={name:findField("name"),email:findField("email"),phone:(0,g.wW)(String(findField("phone")),"US",!0),address:findField("address"),metadata:{}},l.forEach(function(t){if(t.name.startsWith("metadata.")){var n=t.name.substring(9);e.metadata[n]=t.value}}),console.log("Final request with metadata:",e),t.prev=3,t.next=6,E.updateMember(n,e);case 6:u(modifyCustomerData(t.sent)),b({active:!0,persistance:3e3,list:[{label:"success",message:"Updated Customer: ".concat(e.name)}]}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log("[ MODIFY CUSTOMER (ERROR) ]",t.t0);case 14:case"end":return t.stop()}},_callee,null,[[3,11]])})),function(){return t.apply(this,arguments)});return((0,a.useEffect)(function(){},[N]),(0,a.useEffect)(function(){var e;(e=(0,d.Z)(m().mark(function _callee2(){var e;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=14;break}return t.prev=1,t.next=4,E.getCustomer(n);case 4:(e=t.sent)?u(modifyCustomerData(e)):alert("Couldn't get customer"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),alert("Error fetching customer data");case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}},_callee2,null,[[1,8,12,14]])})),function(){return e.apply(this,arguments)})()},[n,E]),n)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i(),{id:S.__hash,children:S}),(0,x.jsxs)("div",{className:"jsx-".concat(S.__hash)+" admin-customer-modify",children:[(0,x.jsx)("div",{className:"jsx-".concat(S.__hash)+" admin-customer-modify__title",children:"Admin Customer Modify"}),(0,x.jsx)(p.Z,{btnText:"Modify",fields:l,onChange:function(e){var t=e.target,n=t.name,r=t.value;u(l.map(function(e){return e.name==n&&(e.value=r),e}))},onSubmit:N}),(0,x.jsx)("hr",{style:{width:"100%"},className:"jsx-".concat(S.__hash)}),(0,x.jsx)("div",{className:"jsx-".concat(S.__hash)+" admin-customer-modify__delete",children:(0,x.jsxs)(P.Z,{onClick:function(){y({confirm:{title:"Ya Shure?",statements:[{text:"yes",onClick:confirmDelete},{text:"no",onClick:w}]}})},variant:"secondary",children:["delete ",(null==l?void 0:l.length)&&f]})})]})]}):(0,x.jsx)(x.Fragment,{})},AdminCustomers_controller_AdminCustomer=function(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=(0,a.useState)("list"),s=r[0],o=r[1],handleView=function(e){if("string"==typeof e)o(e);else if(null!=e&&e.id){var t;(t=(0,d.Z)(m().mark(function _callee(){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(e.id));case 1:case"end":return t.stop()}},_callee)})),function(){return t.apply(this,arguments)})().then(function(){return o("modify")})}},c={list:(0,x.jsx)(views_AdminCustomerList_AdminCustomerList,{onRowClick:handleView}),add:(0,x.jsx)(views_AdminCustomerAdd_AdminCustomerAdd,{}),modify:(0,x.jsx)(views_AdminCustomerModify_AdminCustomerModify,{customerId:t})};return(0,a.useEffect)(function(){},[n]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i(),{id:f.__hash,children:f}),(0,x.jsxs)("div",{className:"jsx-".concat(f.__hash)+" admin-customer",children:[(0,x.jsx)("div",{className:"jsx-".concat(f.__hash)+" admin-customer__header",children:(0,x.jsxs)("div",{className:"jsx-".concat(f.__hash)+" admin-customer__actions",children:[(0,x.jsx)("div",{className:"jsx-".concat(f.__hash)+" admin-customer__actions"}),(0,x.jsx)(P.Z,{traits:{afterIcon:"fa-circle-user"},onClick:function(){return handleView("list")},children:"customers"}),(0,x.jsx)(P.Z,{onClick:function(){return handleView("add")},children:"add"})]})}),c[s]]})]})},E=[".d-flex.jsx-1936904866,.admin-products__header--actions.jsx-1936904866,.admin-products__header.jsx-1936904866,.admin-products.jsx-1936904866{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}",".admin-products.jsx-1936904866{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-9);width:100%;}",".admin-products__header.jsx-1936904866{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:auto;}",".admin-products__header--actions.jsx-1936904866{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;width:auto;}"];E.__hash="1936904866";var N=[".add-product.jsx-2791264399{width:100%;}",".add-product--title.jsx-2791264399{font-size:var(--s-3);text-transform:capitalize;line-height:1;margin-bottom:var(--padding);color:var(--gray-40);}"];N.__hash="2791264399";var AdminProducts_AddProduct_AddProduct=function(){var e=(0,a.useState)([{name:"name",label:"product name"},{name:"description",label:"product description",type:"textarea"},{name:"type",label:"type"},{name:"active",label:"active",value:!1,type:"checkbox"},{name:"price",label:"price",type:"tel"}]),t=e[0];return e[1],(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i(),{id:N.__hash,children:N}),(0,x.jsxs)("div",{className:"jsx-".concat(N.__hash)+" add-product",children:[(0,x.jsx)("div",{className:"jsx-".concat(N.__hash)+" add-product--title",children:"add product"}),(0,x.jsx)(p.Z,{fields:t})]})]})},AdminProducts_controller_AdminProducts=function(){var e=(0,Z.dd)(),t=e.openModal;e.closeModal;var n=(0,a.useState)();n[0],n[1];var r=(0,a.useState)();return r[0],r[1],(0,j.ko)("IShoppingService"),(0,a.useEffect)(function(){},[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i(),{id:E.__hash,children:E}),(0,x.jsxs)("div",{className:"jsx-".concat(E.__hash)+" admin-products",children:[(0,x.jsxs)("div",{className:"jsx-".concat(E.__hash)+" admin-products__header",children:[(0,x.jsx)("div",{className:"jsx-".concat(E.__hash)+" admin-products__header--title"}),(0,x.jsx)("div",{className:"jsx-".concat(E.__hash)+" admin-products__header--actions",children:(0,x.jsx)(P.Z,{onClick:function(){return t((0,x.jsx)(AdminProducts_AddProduct_AddProduct,{}))},children:"add product"})})]}),(0,x.jsx)(AdminProducts_AddProduct_AddProduct,{})]})]})},D=[".d-flex.jsx-911565582,.admin-list-documents.jsx-911565582{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".admin-list-documents.jsx-911565582{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;overflow:hidden;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".admin-list-documents__list.jsx-911565582{width:700px;padding:0;margin:0;}"];D.__hash="911565582";var AdminDocuments_controller_AdminListDocuments=function(){var e,t=(0,j.ko)("IDocumentService"),n=(0,a.useState)([]),r=n[0],s=n[1];(0,a.useEffect)(function(){var e,n=(e=(0,d.Z)(m().mark(function _callee(){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.listDocuments();case 3:s(e.sent.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching documents:",e.t0);case 10:case"end":return e.stop()}},_callee,null,[[0,7]])})),function(){return e.apply(this,arguments)});0===r.length&&n()},[r.length]);var o=(e=(0,d.Z)(m().mark(function _callee2(e){var t,n,r,i;return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("/api/download-stripe-file/".concat(e));case 3:if((t=a.sent).ok){a.next=6;break}throw Error("Network response was not ok");case 6:return a.next=8,t.blob();case 8:n=a.sent,r=window.URL.createObjectURL(n),(i=document.createElement("a")).href=r,i.download=e,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(r),i.remove(),a.next=22;break;case 19:a.prev=19,a.t0=a.catch(0),console.error("Error downloading file:",a.t0);case 22:case"end":return a.stop()}},_callee2,null,[[0,19]])})),function(t){return e.apply(this,arguments)});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i(),{id:D.__hash,children:D}),(0,x.jsx)("h1",{className:"jsx-".concat(D.__hash),children:"Admin List Docs"}),(0,x.jsx)("div",{className:"jsx-".concat(D.__hash)+" admin-list-documents",children:r.length>0?r.map(function(e,t){return(0,x.jsx)("div",{className:"jsx-".concat(D.__hash)+" admin-list-documents__list",children:(0,x.jsx)(P.Z,{onClick:function(){return o(e.id)},children:"Download"})},t)}):(0,x.jsx)("p",{className:"jsx-".concat(D.__hash),children:"No documents found."})})]})},R=c()(function(){return Promise.all([n.e(737),n.e(163),n.e(316),n.e(315),n.e(269)]).then(n.bind(n,7269))},{ssr:!1,loadableGenerated:{webpack:function(){return[7269]}}}),admin_controller_Admin=function(){(0,L.useRouter)();var e=(0,a.useState)("documents"),t=e[0],n=e[1],r={globe:(0,x.jsx)(R,{}),customers:(0,x.jsx)(AdminCustomers_controller_AdminCustomer,{}),products:(0,x.jsx)(AdminProducts_controller_AdminProducts,{}),documents:(0,x.jsx)(AdminDocuments_controller_AdminListDocuments,{})};return(0,a.useEffect)(function(){},[n]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i(),{id:s.__hash,children:s}),(0,x.jsx)(l.Z,{defaultView:t,name:"admin",variant:"full-screen",views:r,setViewCallback:console.log})]})}},5960:function(e,t,n){"use strict";n.d(t,{Z:function(){return layouts_UiSettingsLayout_UiSettingsLayout}});var r=n(5003),i=n.n(r),a=n(7294),s=[".d-flex.jsx-1318501788,.settings.jsx-1318501788 .settings__view__content.jsx-1318501788,.settings.jsx-1318501788 .settings__actions--content.jsx-1318501788,.settings__content.jsx-1318501788{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","@-webkit-keyframes borderAnimation-jsx-1318501788{0%{border-color:rgba(255,48,48,0.2509803922);}25%{border-color:rgba(255,153,0,0.3137254902);}50%{border-color:rgba(0,153,255,0.5647058824);}75%{border-color:#0f00ff;}100%{border-color:rgba(255,48,48,0.2509803922);}}","@keyframes borderAnimation-jsx-1318501788{0%{border-color:rgba(255,48,48,0.2509803922);}25%{border-color:rgba(255,153,0,0.3137254902);}50%{border-color:rgba(0,153,255,0.5647058824);}75%{border-color:#0f00ff;}100%{border-color:rgba(255,48,48,0.2509803922);}}",".settings.jsx-1318501788{width:100%;-webkit-transform:translateY(-2px);-ms-transform:translateY(-2px);transform:translateY(-2px);min-height:inherit;height:inherit;z-index:999;}","@media (min-width:1100px){.settings.jsx-1318501788{padding-top:var(--padding);background-color:var(--gray-90);}}",".settings__content.jsx-1318501788{-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;}","@media (min-width:1100px){.settings__content.jsx-1318501788{gap:var(--s-9);margin-left:var(--s-9);}}","@media (max-width:1100px){.settings__content.jsx-1318501788{height:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}",".settings.jsx-1318501788 .settings__actions.jsx-1318501788{height:inherit;position:relative;background-color:var(--gray-90);}",".settings.jsx-1318501788 .settings__actions--content.jsx-1318501788{border-bottom:solid 1px var(--gray-70);background-color:var(--gray-80);border-radius:var(--border-radius);border:solid 1px var(--gray-60);width:100%;}","@media (min-width:2100px){.settings.jsx-1318501788 .settings__actions--content.jsx-1318501788{margin-left:auto;max-width:350px;}}","@media (min-width:1100px){.settings.jsx-1318501788 .settings__actions.jsx-1318501788{min-height:auto;}}","@media (max-width:1100px){.settings.jsx-1318501788 .settings__actions.jsx-1318501788{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1px var(--s-9) var(--padding);width:auto;height:-webkit-max-content;height:-moz-max-content;height:max-content;border-bottom:solid 1px var(--gray-70);overflow:visible;}}",".settings.jsx-1318501788 .settings__view.jsx-1318501788{width:100%;color:var(--gray-40);background-color:var(--gray-100);height:auto;overflow:hidden;}","@media (min-width:1100px){.settings.jsx-1318501788 .settings__view.jsx-1318501788{min-height:100%;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:unset;border-top:solid 1px;border-left:solid 1px;border-radius:var(--border-radius) 0 0 0;-webkit-animation:borderAnimation-jsx-1318501788 5s infinite alternate;animation:borderAnimation-jsx-1318501788 5s infinite alternate;}}","@media (max-width:1100px){.settings.jsx-1318501788 .settings__view.jsx-1318501788{border-left:unset;min-height:inherit;}}",".settings.jsx-1318501788 .settings__view__content.jsx-1318501788{z-index:1000;height:calc(100% - var(--s-5) * 2);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:auto;padding:var(--s-4) var(--s-5);}","@media (max-width:1100px){.settings.jsx-1318501788 .settings__view__content.jsx-1318501788{padding:var(--s-5) var(--s-8);}}","@media (max-width:900px){.settings.jsx-1318501788 .settings__view__content.jsx-1318501788{padding:var(--s-7) var(--s-9);}}"];s.__hash="1318501788";var o=n(8568),c=n(359),l=n(9492),d=n(5182),u=n(682),m=n(1163),f=n(9817),h=n(7360),p=n(2737),x=n(5893),layouts_UiSettingsLayout_UiSettingsLayout=function(e){var t,n=e.views,r=e.setViewCallback,_=e.variant,b=(e.name,e.defaultView),v=(0,m.useRouter)(),j=(null==v?void 0:null===(t=v.query)||void 0===t?void 0:t.vid)&&v.query.vid,g=(0,a.useState)(b),y=g[0],w=g[1],k=(0,h.Z)();k.width,k.height;var O=(0,a.useState)({width:350}),S=O[0];O[1];var A=(0,a.useRef)(),handleView=function(e){v.push({pathname:null==v?void 0:v.pathname,query:{vid:(0,p.Z)(e,!1)||j}},void 0,{shallow:!1}),r&&r(e)},C=(0,f.Z)("settings",void 0,_),P=(0,f.Z)("settings__content",void 0,_),Z=(0,f.Z)("settings__view",void 0,_),optionViews=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return Object.keys(n).map(function(t){return(0,p.Z)(t,e)})};return((0,a.useEffect)(function(){if(n){var e=j||b||Object.keys(n)[0];e&&w(String(e))}},[j]),y)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i(),{id:s.__hash,children:s}),(0,x.jsx)("div",{ref:A,id:"settings-container",className:"jsx-".concat(s.__hash)+" "+(C||""),children:(0,x.jsxs)("div",{className:"jsx-".concat(s.__hash)+" "+(P||""),children:[(0,x.jsxs)("div",{className:"jsx-".concat(s.__hash)+" settings__actions",children:[(0,x.jsx)(o.Z,{maxWidth:1100,style:S,children:(0,x.jsx)("div",{className:"jsx-".concat(s.__hash)+" settings__actions--content",children:(0,x.jsx)(c.Z,{options:optionViews(!1),variant:"flat",value:y,onSelect:handleView})})}),(0,x.jsx)(o.Z,{minWidth:1100,children:(0,x.jsx)("div",{className:"jsx-".concat(s.__hash)+" settings__actions--content",children:(0,x.jsx)(l.Z,{onSelect:handleView,title:(0,d.R)(y||""),options:optionViews(!1)})})})]}),(0,x.jsx)("div",{className:"jsx-".concat(s.__hash)+" "+(Z||""),children:(0,x.jsx)("div",{className:"jsx-".concat(s.__hash)+" settings__view__content",children:y&&n[y]})})]})})]}):(0,x.jsx)(u.Z,{})}},5152:function(e,t,n){e.exports=n(5941)}}]);