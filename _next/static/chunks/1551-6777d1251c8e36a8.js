"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1551],{41715:(e,t,r)=>{r.d(t,{Q:()=>x});var n=r(73556),i=r(5820),a=r(87567),o=r(54756),c=r.n(o),s=r(96540),l=r(97208),d=r(56941),u=r(13861),p=r(27515);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var x=function(){var e=p.A.merchant.mid,t=(0,l.cQ)("IProductService"),r=(0,d.A)(),n=r.sessionData,o=r.setSessionItem,f=(0,s.useState)(null),x=f[0],g=f[1],m=(0,s.useState)(!1),v=m[0],y=m[1],w=(0,s.useState)(!1),j=w[0],h=w[1],k=(0,s.useState)(null),O=k[0],_=k[1],S=(0,u.pn)(),P=(0,a.A)(S,2),A=(P[0],P[1]),D=(0,s.useCallback)((0,i.A)(c().mark(function r(){var i,a,s,l,d,u,p,f;return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(v||null!==x)){r.next=2;break}return r.abrupt("return");case 2:if(a=(i=null==n?void 0:n.products)&&Date.now()-i.created>6e4,s=function(t){if(t)return t.filter(function(t){return t.metadata.mid==e})},!(i&&!a)){r.next=11;break}(l=s(i.data))&&g(l),h(i.has_more),r.next=28;break;case 11:return A({active:!0}),y(!0),r.prev=13,r.next=16,t.getProducts({limit:10});case 16:null!=(d=r.sent)&&d.data&&(u=b(b({},d),{},{created:Date.now()}),p=d.data.filter(function(e){return null==e?void 0:e.active}),o("products",u,{expiry:6e4}),(f=s(p))&&g(f),h(d.has_more)),r.next=24;break;case 20:r.prev=20,r.t0=r.catch(13),console.error(r.t0),_("Failed to fetch products.");case 24:return r.prev=24,A({active:!1}),y(!1),r.finish(24);case 28:case"end":return r.stop()}},r,null,[[13,20,24,28]])})),[v,x]);return(0,s.useEffect)(function(){D()},[D]),{products:x,loading:v,hasMore:j,error:O,fetchProducts:D}}},13097:(e,t,r)=>{r.d(t,{A:()=>g});var n=r(73556),i=r(67538),a=r.n(i),o=r(96540),c=[".d-flex.jsx-2178991106,.added-to-cart-body.jsx-2178991106,.added-to-cart.jsx-2178991106{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".added-to-cart.jsx-2178991106{width:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;gap:var(--s-element);}",".added-to-cart-title.jsx-2178991106{font-size:var(--s-2);color:var(--gray-30);}",".added-to-cart-body.jsx-2178991106{width:100%;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;color:var(--gray-40);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;}"];c.__hash="2178991106";var s=r(54534),l=r(34734),d=r(75868),u=r(13565),p=r(5899),f=r(74848);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let g=function(e){var t,r,n=e.product,i=e.traits,b=e.size,g=e.btnText,m=void 0===g?"Add":g,v=e.goToCart,y=void 0!==v&&v,w=(0,p.A)(),j=w.addCartItem,h=w.cart,k=(0,o.useState)("add"),O=k[0],_=k[1],S=(0,u.hS)(),P=S.openModal,A=S.closeModal;if((0,o.useEffect)(function(){var e,t,r,i,a;n&&(m||null!=n&&null!==(e=n.metadata)&&void 0!==e&&e.hide_price?_(null!=n&&n.active?m:"unavailable"):_(null!==(t=n.price)&&void 0!==t&&t.unit_amount?"".concat((0,d.bK)(null===(r=n.price)||void 0===r?void 0:r.unit_amount)).concat(null!==(i=n.price)&&void 0!==i&&null!==(i=i.recurring)&&void 0!==i&&i.interval?" / "+(null===(a=n.price)||void 0===a||null===(a=a.recurring)||void 0===a?void 0:a.interval):""):"Label not available"))},[n,m]),!n)return(0,f.jsx)(f.Fragment,{children:"No Product"});var D=!(null!=n&&n.active)||!(null!=n&&null!==(t=n.price)&&void 0!==t&&t.id),C=null==h?void 0:h.find(function(e){return e.price.id===n.price.id}),E=(null==C||null===(r=C.price)||void 0===r?void 0:r.qty)||0,N=function(e){j(x(x({},n),{},{price:x(x({},n.price),{},{qty:Number(e)})})),y&&e&&P({title:"".concat(n.name,", added to cart"),confirm:{statements:[{label:"go to cart",href:"/cart"},{label:"back",onClick:function(){return A()}}]}})};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a(),{id:c.__hash,children:c}),0===E?(0,f.jsx)(s.A,{onClick:function(){return N(1+Number(E))},traits:i,disabled:D,size:b,variant:"primary",children:O}):(0,f.jsx)(l.A,{traits:i,variant:"center dark",amount:E,setAmount:function(e){return N(e)}})]})}},86753:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(87567),i=r(67538),a=r.n(i),o=r(96540),c=[".adaptgrid.jsx-780182941{display:grid;grid-column-gap:0px;grid-row-gap:0px;grid-template-rows:auto;width:100%;}",".adaptgrid.scroll-x.jsx-780182941{overflow-x:scroll;width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;}",".adaptgrid.scroll-x.jsx-780182941::-webkit-scrollbar{display:none;}",".adaptgrid.scroll-x.jsx-780182941:hover::-webkit-scrollbar,.adaptgrid.scroll-x.jsx-780182941:focus-within::-webkit-scrollbar{display:unset;padding-top:var(--s-9);}",".adaptgrid.scroll-y.jsx-780182941{overflow-y:auto;}",".adaptgrid.scrollable.jsx-780182941{overflow:auto;}",".adaptgrid.center.jsx-780182941{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","@media (max-width:900px){.adaptgrid.adaptgrid_dynamic-grid.jsx-780182941{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}",".adaptgrid.jsx-780182941 .adaptgrid__grid-item.jsx-780182941{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:100vw;}",".adaptgrid.jsx-780182941 .adaptgrid__grid-item.adaptgrid_card.jsx-780182941,.adaptgrid.jsx-780182941 .adaptgrid__grid-item.adaptgrid_card-border.jsx-780182941{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--gray-90);border-radius:var(--border-radius);box-shadow:var(--box-shadow-xl);-webkit-transition:all 0.3s ease-out;transition:all 0.3s ease-out;}",".adaptgrid.jsx-780182941 .adaptgrid__grid-item.adaptgrid_card.jsx-780182941:hover,.adaptgrid.jsx-780182941 .adaptgrid__grid-item.adaptgrid_card-border.jsx-780182941:hover{background-color:var(--gray-80);}",".adaptgrid.jsx-780182941 .adaptgrid__grid-item.adaptgrid_card-border.jsx-780182941{outline:solid 1px var(--gray-80);border:solid 1px var(--gray-60);}"];c.__hash="780182941";var s=r(33253),l=r(13861),d=r(74848);function u(e){var t=e.focus,r=e.xs,i=e.sm,u=e.md,p=e.lg,f=e.xl,b=e.children,x=e.variant,g=e.gap,m=e.gapX,v=e.gapY,y=e.margin,w=e.padding,j=(e.responsive,e.scroll),h=e.reverse,k=e.align,O=e.backgroundColor,_=(0,s.A)().width,S=(0,o.useRef)(null),P=(0,l.pn)(),A=(0,n.A)(P,2),D=(A[0],A[1]),C=null==b?void 0:b.length;return(0,o.useEffect)(function(){C||D({active:!0});var e=S.current;if(e){t&&function(){if(t){var e,r,n=null===(e=S.current)||void 0===e?void 0:e.querySelectorAll(t[0]);n&&(null===(r=n[t[1]])||void 0===r||r.focus())}}();var n={gridTemplateColumns:"repeat(".concat([{id:"xs",breakpoint:600,value:r},{id:"sm",breakpoint:900,value:i},{id:"md",breakpoint:1100,value:u},{id:"lg",breakpoint:1400,value:p},{id:"xl",breakpoint:1600,value:f}].filter(function(e){return void 0!==e.value}).reduce(function(e,t){var r=Math.abs(e.breakpoint-_);return Math.abs(t.breakpoint-_)<r?t:e}).value,", 1fr)"),gridColumnGap:"".concat(m||g,"px"),gridRowGap:"".concat(v||g,"px"),paddingTop:"".concat(g?g/2:0,"px"),paddingBottom:"".concat(g?g/2:0,"px"),margin:"".concat(y||"0px"),padding:"".concat(w||"0px"),direction:"".concat(h?"rtl":"ltr")};Object.assign(e.style,n)}},[_,g,m,v,y,w,r,i,u,p,f,S,t,h,O]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a(),{id:c.__hash,children:c}),(0,d.jsxs)("div",{ref:S,className:"jsx-".concat(c.__hash)+" "+"adaptgrid ".concat(k?" ".concat(k):"").concat(j?" ".concat(j):""),children:[!x&&b&&b,x&&C&&b.map(function(e,t){return(0,d.jsx)("div",{style:O?{backgroundColor:O}:{},className:"jsx-".concat(c.__hash)+" "+"adaptgrid__grid-item".concat(x?" adaptgrid_".concat(x):""),children:e},t)}),!b&&!C&&(0,d.jsx)("div",{style:O?{backgroundColor:O}:{},className:"jsx-".concat(c.__hash)+" "+"adaptgrid__grid-item".concat(x?" adaptgrid_".concat(x):""),children:b})]})]})}},34734:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(87567),i=r(67538),a=r.n(i),o=r(96540),c=[".ui-pill.jsx-1002868648{width:-webkit-max-content;width:-moz-max-content;width:max-content;}",".ui-pill.ui-pill-responsive.jsx-1002868648{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"];c.__hash="1002868648";var s=r(79498),l=r(38221),d=r.n(l),u=r(74848);let p=function(e){var t=e.amount,r=e.setAmount,i=e.variant,l=e.traits,p=(0,o.useState)("0"),f=p[0],b=p[1],x=l;x||"number"!=typeof t||(x={beforeIcon:{icon:t>1?"fas-minus":"fa-trash-can",onClick:function(){return v("minus")},color:1==t?"red":""},afterIcon:{icon:"fas-plus",onClick:function(){return v("plus")}}}),l&&Object.entries(l).forEach(function(e){var t=(0,n.A)(e,2),r=t[0],i=t[1];x[r]=i});var g=(0,o.useRef)(d()(function(e){isNaN(Number(e))||r(Number(e))},1500)).current,m=(0,o.useCallback)(function(e){b(e.target.value),g(e.target.value)},[g]),v=(0,o.useCallback)(function(e){"number"==typeof t&&r(t+("plus"===e?1:-1))},[t,r]);return(0,o.useEffect)(function(){t&&b(t.toString())},[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a(),{id:c.__hash,children:c}),(0,u.jsx)("div",{className:"jsx-".concat(c.__hash)+" "+"ui-pill ".concat(null!=l&&l.responsive?" ui-pill-responsive":""),children:(0,u.jsx)(s.A,{name:"ui-pill",variant:i,traits:x,value:f,onChange:m})})]})}},56941:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(73556),i=r(96540);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let c=function(){var e=(0,i.useState)(null),t=e[0],r=e[1],a=(0,i.useState)(!0),c=a[0],s=a[1],l=function(){for(var e={},t=0;t<sessionStorage.length;t++){var r=sessionStorage.key(t);if(r)try{var n=JSON.parse(sessionStorage.getItem(r)),i=n.value,a=n.expiry;a&&Date.now()>a?sessionStorage.removeItem(r):e[r]=i}catch(e){console.warn("Failed to parse sessionStorage item ".concat(r,":"),e)}}return Object.keys(e).length?e:null},d=function(){r(l()),s(!1)};return(0,i.useEffect)(function(){if("complete"!==document.readyState&&"interactive"!==document.readyState)return window.addEventListener("DOMContentLoaded",d),function(){return window.removeEventListener("DOMContentLoaded",d)};d()},[]),{sessionData:t,loading:c,setSessionItem:function(e,t,i){if(e&&t)try{var a={value:t,expiry:null!=i&&i.expiry?Date.now()+i.expiry:null};sessionStorage.setItem(e,JSON.stringify(a)),r(function(r){return o(o({},r),{},(0,n.A)({},e,t))})}catch(e){console.error("Failed to set session storage item:",e)}},deleteSessionItem:function(e){sessionStorage.removeItem(e),r(function(t){var r=o({},t);return delete r[e],r})},setSessionData:r}}}}]);