"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4552],{64552:(e,t,n)=>{n.d(t,{A:()=>E});var a=n(5820),r=n(73556),i=n(38242),c=n(87567),l=n(67538),s=n.n(l),o=n(54756),u=n.n(o),d=n(96540),m=[".d-flex.jsx-1500080580,.product-build__body--form__content.jsx-1500080580,.product-build__body--form.jsx-1500080580 h1.jsx-1500080580,.product-build__body.jsx-1500080580,.product-build__navigation.jsx-1500080580,.product-build.jsx-1500080580{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".product-build.jsx-1500080580{-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;min-height:inherit;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;font-size:var(--s-1);gap:var(--s-9);overflow:hidden;}","@media (max-width:1260px){.product-build.jsx-1500080580{width:var(--s-9-width);padding:0 var(--s-9);}}","@media (max-width:900px){.product-build.jsx-1500080580{margin:auto;width:var(--s-5-width);padding:0 var(--s-5);}}",".product-build--header.jsx-1500080580{font-size:var(--s-1);min-height:var(--s-1);margin-top:var(--s-1);color:var(--primary-30);}",".product-build__body.jsx-1500080580{gap:var(--s-9);-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}","@media (max-width:900px){.product-build__body.jsx-1500080580{min-height:unset;height:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}",".product-build__body--content.jsx-1500080580,.product-build__body--form.jsx-1500080580{border-radius:var(--border-radius);-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".product-build__body--form.jsx-1500080580{width:100%;overflow:visible;background-color:var(--blue-70);padding:var(--s-4) var(--s-9);gap:var(--s-1);-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;padding-bottom:var(--s-element);}",".product-build__body--form.jsx-1500080580 h1.jsx-1500080580{width:100%;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;text-transform:capitalize;font-weight:100;font-family:Game;color:var(--white);}",".product-build__body--form__content.jsx-1500080580{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:var(--s-1);padding:var(--s-9);height:-webkit-max-content;height:-moz-max-content;height:max-content;background-color:var(--gray-20);border-radius:inherit;color:var(--primary-50);}"];m.__hash="1500080580";var f=n(21113),v=n(91863),h=n(33253),x=n(13565),p=n(19658),b=[".d-flex.jsx-2741710926,.product-build-checklist.jsx-2741710926{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".product-build-checklist.jsx-2741710926{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;width:var(--s-9-width);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:var(--s-9);background-color:var(--gray-50);border-radius:var(--border-radius);padding:var(--s-11) var(--s-9);color:var(--gray-60);z-index:1;}",".product-build-checklist__items.jsx-2741710926{z-index:2;padding:var(--s-9);width:inherit;border-radius:var(--border-radius);color:var(--primary-70);background-color:var(--gray-30);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:var(--s-11);}"];b.__hash="2741710926";var g=n(31998),j=n(11296),y=n(74848);let k=function(e){var t=e.list,n=e.onRemove;return((0,d.useEffect)(function(){},[t]),t&&t.length)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s(),{id:b.__hash,children:b}),(0,y.jsxs)("div",{className:"jsx-".concat(b.__hash)+" product-build-checklist",children:[(0,y.jsx)("h2",{className:"jsx-".concat(b.__hash),children:"Selection"}),(0,y.jsx)("div",{className:"jsx-".concat(b.__hash)+" product-build-checklist__items",children:t.map(function(e,t){var a,r,i,c,l,s,o,u;return(0,y.jsx)("span",{className:"jsx-".concat(b.__hash)+" product-build-checklist__item",children:(0,y.jsxs)(g.A,{size:"sm",onClick:function(){return n&&n(e)},children:[null!==(a=Object.keys(e))&&void 0!==a&&null!==(a=a[0])&&void 0!==a&&a.includes("-")?(0,j.A)(null===(r=Object.keys(e))||void 0===r?void 0:r[0]):null===(i=Object.keys(e))||void 0===i?void 0:i[0],": ","string"==typeof(null===(c=Object.values(e))||void 0===c?void 0:c[0])&&null!==(l=String(null===(s=Object.values(e))||void 0===s?void 0:s[0]))&&void 0!==l&&l.includes("-")?(0,j.A)(null===(o=Object.keys(e))||void 0===o?void 0:o[0]):null===(u=Object.values(e))||void 0===u?void 0:u[0]]})},t)})})]})]}):(0,y.jsx)("small",{children:" - "})};var w=n(46139),_={usageOptions:[{label:"Residential",value:"residential"},{label:"Commercial",value:"commercial"},{label:"Off-Grid",value:"offgrid"}],applianceOptions:[{name:"refrigerator",checked:!1,value:6},{name:"freezer",checked:!1,value:6},{name:"tv",checked:!1,value:2},{name:"dishwasher",checked:!1,value:15},{name:"space-heater",checked:!1,value:15},{name:"microwave",checked:!1,value:10},{name:"washing-machine",checked:!1,value:10},{name:"dryer",checked:!1,value:30},{name:"oven",checked:!1,value:20},{name:"air-conditioner",checked:!1,value:15},{name:"mini-split",checked:!1,value:20},{name:"vacuum-cleaner",checked:!1,value:11},{name:"toaster",checked:!1,value:9},{name:"blender",checked:!1,value:6},{name:"coffee-maker",checked:!1,value:10},{name:"electric-kettle",checked:!1,value:13},{name:"hair-dryer",checked:!1,value:13},{name:"iron",checked:!1,value:10},{name:"fan",checked:!1,value:3},{name:"stove-top",checked:!1,value:15},{name:"air-fryer",checked:!1,value:15},{name:"other",checked:!1,value:10}]},O=n(83658),A=n(27515),N=n(97208);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var z="appliances";let E=function(){var e,t=(0,O.A)(),n=(0,N.cQ)("IMemberService"),l=(0,d.useState)(null),o=l[0],b=l[1],S=(0,d.useState)(),E=(S[0],S[1]),q=(0,h.A)().width,C=(0,d.useState)("loading"),D=C[0],F=C[1],I=(0,d.useState)(1),U=I[0],M=I[1],B=(0,d.useState)({}),Z=B[0],G=B[1],H=(0,x.hS)(),R=H.closeModal,T=H.openModal;H.isModalOpen;var $=[[],[{label:"Intended Use",name:"usage",type:"select",options:_.usageOptions,value:Z.usage||"select"}],[{name:z,label:"",type:"checkbox",options:_.applianceOptions,value:Z.Appliances||[]}]],J=(0,d.useState)($[0]),L=J[0],Q=J[1],V={contact:"",products:(0,y.jsx)(f.A,{scrollX:q>1100,onSelect:function(e){return null}})},W=function e(t){if(null!=t&&t.email&&!(null!=t&&t.target)){G({contact:t}),K();return}var n=null==t?void 0:t.target,a=n.name,l=n.value,s=n.type,o=n.checked;if(a){var u=a.split("_"),d=(0,c.A)(u,2),m=d[0],f=d[1],v=function(e){if((null==e?void 0:e.type)==="checkbox"){var t=Z[m]||[];return o?[].concat((0,i.A)(t),[(0,r.A)({},f,l)]):t.filter(function(e){return!e.hasOwnProperty(f)})}return l},h=L.map(function(e){return e.name===a?P(P({},e),{},{value:v(e)}):e});if(Q(h),a.includes("_")){if("other"===f)return T({children:(0,y.jsx)(p.A,{title:"Other",choice:{name:a,value:l,type:s,checked:o},onSubmit:function(t){e({target:P(P({},t),{},{type:s,name:"".concat(m,"_").concat((null==t?void 0:t.name)&&(0,j.A)(t.name,{dashed:!0}))})}),R()}})});G(function(e){return P(P({},e),{},(0,r.A)({},m,v({name:f,type:s})))})}else G(function(e){var t;return P(P({},e),{},(0,r.A)({},a,v({name:a,type:null===(t=L.find(function(e){return e.name===a}))||void 0===t?void 0:t.type})))});h.every(function(e){return e.value&&"select"!==e.value})&&K()}},X=(e=(0,a.A)(u().mark(function e(r){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:F("loading"),(function(){var e=(0,a.A)(u().mark(function e(){var a,i,c,l;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}return console.error("No contact data available."),F("invalid"),e.abrupt("return");case 4:return console.log({request:a=P(P({},r),{},{metadata:{user:{email:r.email,devices:[P(P({},t),{},{created:Date.now()})]},merchant:A.A.merchant,quote:{id:"".concat(A.A.merchant.mid,"-").concat("001"),data:null==Z?void 0:Z[z].reduce(function(e,t){return P(P({},e),t)},{}),created:new Date().getTime()}}})}),e.prev=6,e.next=9,n.signUp(a);case 9:null!=(i=e.sent)&&i.email?(F("success"),b(i.email)):null!=i&&i.status&&(F(i.status),b(i.message)),e.next=22;break;case 13:if(e.prev=13,e.t0=e.catch(6),console.error("Submission failed: ",e.t0),!(l=null===(c=e.t0.detail)||void 0===c?void 0:c.fields)){e.next=21;break}return E(l),F("contact"),e.abrupt("return");case 21:F("error");case 22:case"end":return e.stop()}},e,null,[[6,13]])}));return function(){return e.apply(this,arguments)}})()();case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),Y=function(){return _.applianceOptions.filter(function(e){var t;return null===(t=Z.appliances)||void 0===t?void 0:t.some(function(t){return t[e.name]})}).reduce(function(e,t){return e+t.value},0)},K=function(){U<$.length&&(M(function(e){return e+1}),Q($[U]))},ee="success"===D||"error"===D;return((0,d.useEffect)(function(){ee?T({dismissable:!1,confirm:{title:D,statements:[{label:"return home",href:"/"}],body:"success"===D?(0,y.jsxs)("div",{className:"c-success w-100",children:["      A verification email to",(0,y.jsxs)("span",{className:"product-quote__success--email",children:[" ",o,", "]}),"has been sent."]}):(0,y.jsx)("h1",{children:"An Error Occured, please try later."})}}):F("contact")},[D]),"success"===D)?(0,y.jsx)(y.Fragment,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s(),{id:m.__hash,children:m}),JSON.stringify({formValues:Z}),(0,y.jsxs)("div",{className:"jsx-".concat(m.__hash)+" product-build",children:[(0,y.jsx)("div",{className:"jsx-".concat(m.__hash)+" product-build--header",children:"Product Build"}),(0,y.jsxs)("div",{className:"jsx-".concat(m.__hash)+" product-build__body",children:[(0,y.jsxs)("div",{className:"jsx-".concat(m.__hash)+" product-build__body--form",children:[(0,y.jsxs)("div",{className:"jsx-".concat(m.__hash)+" product-build__navigation",children:[(0,y.jsx)("div",{className:"jsx-".concat(m.__hash),children:(0,y.jsx)(g.A,{onClick:function(){U>1&&(M(function(e){return e-1}),Q($[U-2]))},disabled:1===U,size:"xs",children:"Back"})}),(0,y.jsx)("div",{className:"jsx-".concat(m.__hash),children:(0,y.jsx)(g.A,{onClick:K,disabled:U===$.length,size:"xs",children:"Next"})})]}),(0,y.jsx)("h1",{className:"jsx-".concat(m.__hash),children:"Start here, to Configure your Nirvana"}),(0,y.jsxs)("div",{className:"jsx-".concat(m.__hash)+" product-build__body--form__content",children:[3===U&&(0,y.jsxs)(y.Fragment,{children:[Y()," Amps",(0,y.jsx)(k,{list:null==Z?void 0:Z.appliances})]}),1===U?(0,y.jsx)(w.A,{onSubmit:W}):(0,y.jsx)(v.A,{fields:L,onSubmit:function(){return Y()>0&&X(Z.contact)||void 0},variant:"lite compact",onChange:W})]})]}),(0,y.jsx)("div",{className:"jsx-".concat(m.__hash)+" product-build__body--content",children:null==V?void 0:V[D]})]})]})]})}},19658:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(96540),r=n(91863),i=n(20384),c=n(74848);let l=function(e){var t=e.onSubmit,n=e.title,l=[{name:"name",label:"Custom ".concat((0,i.A)(n)," Name"),placeholder:"add your custom ".concat(n),required:!0,error:void 0},{name:"value",type:"pill",value:0,label:"Estimated Amps",required:!0,placeholder:0,error:void 0}],s=(0,a.useState)(l),o=s[0],u=s[1],d=(0,a.useState)(!0),m=d[0],f=d[1];return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(r.A,{title:n,fields:o,onChange:function(e){var t=e.target,n=t.name,a=t.value,r=o.map(function(e){return e.name==n&&("value"==e.name&&String(e.value).length>=3?e.error="too long":e.error&&delete e.error,e.value=a),e});f(!!r.find(function(e){return void 0==e.value||0==e.value})),u(r)},onSubmit:function(){var e,n;t({name:null===(e=o.find(function(e){return"name"==e.name}))||void 0===e?void 0:e.value,value:null===(n=o.find(function(e){return"value"==e.name}))||void 0===n?void 0:n.value,checked:!0})},disabled:m})})}},46139:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(87567),r=n(73556),i=n(67538),c=n.n(i),l=n(96540),s=[".d-flex.jsx-547145605,.contact-form.jsx-547145605{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".contact-form.jsx-547145605{width:100%;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".contact-form.jsx-547145605 ul.jsx-547145605{color:var(--red-30);}",".contact-form.jsx-547145605 strong.jsx-547145605{text-transform:capitalize;}",".contact-form__title.jsx-547145605{font-size:var(--s-1);color:var(--gray-40);margin:var(--s-4) 0;text-transform:capitalize;}",".contact-form--action.jsx-547145605{--ui-icon-color:var(--gray-20);}",".contact-form__payment-form.jsx-547145605{width:100%;}"];s.__hash="547145605";var o=n(91863),u=n(63435),d=n(33253),m=n(74848);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let h=function(e){var t=e.onSubmit,n=e.user,r=e.submit,i=e.title,f=void 0===i?"contact":i,h=e.fieldErrors,x=(0,d.A)(),p=function(){return x.width>=900?"50%":"100%"},b=p(),g=[{name:"name",label:"name",type:"text",placeholder:"Herbie Hancock",required:!0},{name:"email",label:"email",type:"email",placeholder:"your@email.com",required:!0,width:b},{name:"phone",value:"1 (435) 200 - 3006",label:"phone",type:"tel",placeholder:"1 (000) 000-0000",required:!0,width:b},{name:"address",label:"address",type:"text",placeholder:"Your Address",required:!0,width:b}],j=(0,l.useState)(g),y=j[0],k=j[1],w=(0,l.useState)(!0),_=w[0],O=w[1],A=function(e){O(!e.every(function(e){return!e.required||e.value&&!e.error}))},N=function(e){var t,n=(null===(t=(0,u.UI)(g,e.name))||void 0===t?void 0:t.name)||"* ",a=void 0,r="var(--orange-50)";e.required&&!e.value?a="var(--gray-50)":"email"===e.name?"string"!=typeof e.value||/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e.value)||(n+=" *Invalid email address*",a=r):"phone"===e.name?"string"==typeof e.value&&String(e.value).length<20&&(n+=" *not long enough*",a=r):"name"===e.name&&("string"==typeof e.value&&e.value.length<3?(n+=" *First Name, too short*",a=r):"string"!=typeof e.value||e.value.includes(" ")?"string"==typeof e.value&&e.value.includes(" ")&&e.value.split(" ")[1].length<3?(n+=" *Last name, too short*",a=r):"string"==typeof e.value&&/\d/.test(e.value)&&(n+=" *Name must not include numbers*",a=r):(n+=" *Full name must include a space*",a=r));var i=(0,u.UI)(h,e.name);return h&&i&&e.name==n&&delete e.error,v(v({},e),{},{label:{text:n,color:a}})};return(0,l.useEffect)(function(){if(n&&Array.isArray(n)){var e=y.map(function(e){var t=n.find(function(t){return t.name===e.name});return t&&("address"===e.name&&"object"==typeof t.v?e.value="".concat(t.v.line1,", ").concat(t.v.city,", ").concat(t.v.state,", ").concat(t.v.postal_code):e.value=t.v),e});k(e),A(e)}},[n]),(0,l.useEffect)(function(){h&&k(y.map(function(e){var t=(0,u.UI)(h,e.name);return t?v(v({},e),{},{error:t.error}):e}))},[h]),(0,l.useEffect)(function(){var e;e=p(),k(function(t){return t.map(function(t){var n;return v(v({},t),{},{width:"name"!==t.name?(null===(n=document.getElementsByName(t.name))||void 0===n||null===(n=n[0])||void 0===n?void 0:n.offsetWidth)>200&&"50%"||e:t.width})})})},[x.width]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c(),{id:s.__hash,children:s}),(0,m.jsxs)("div",{className:"jsx-".concat(s.__hash)+" contact-form",children:[f&&(0,m.jsx)("div",{className:"jsx-".concat(s.__hash)+" contact-form__title",children:f}),h&&(0,m.jsx)("ul",{className:"jsx-".concat(s.__hash),children:Object.entries(h).map(function(e){var t=(0,a.A)(e,2),n=t[0],r=t[1];return(0,m.jsxs)("li",{className:"jsx-".concat(s.__hash),children:[(0,m.jsxs)("strong",{className:"jsx-".concat(s.__hash),children:[null==r?void 0:r.name,": "]}),null==r?void 0:r.error]},n)})}),(0,m.jsx)(o.A,{fields:y,disabled:_,onChange:function(e){var t=e.target,n=t.name,a=t.value,r=y.map(function(e){return e.name===n?(e.value=a,N(e)):e});k(r),A(r)},onSubmit:function(){t(y.reduce(function(e,t){return e[t.name]=t.value,e},{}))},submitText:null==r?void 0:r.text})]})]})}}}]);